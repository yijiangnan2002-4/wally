<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AB158x Series MCU API Reference: SDP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="airoha.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AB158x Series MCU API Reference
   &#160;<span id="projectnumber">Airoha IoT SDK for BT Audio</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___bluetooth_s_d_p.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">SDP<div class="ingroups"><a class="el" href="group___bluetooth.html">Bluetooth</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section defines the server part API of the service discovery protocol, so that the user can add the customized records.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section defines the server part API of the service discovery protocol, so that the user can add the customized records. </p>
<h1>Terms and Acronyms </h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>SDP</b> </td><td>Service Discovery Protocol. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Bluetooth#SDP">Wikipedia</a>. </td></tr>
<tr>
<td><b>L2CAP</b> </td><td>Logical Link Control And Adaptation Protocol Specification. For more information, please refer to <a href="https://en.wikipedia.org/wiki/List_of_Bluetooth_protocols#Logical_link_control_and_adaption_protocol_.28L2CAP.29">Wikipedia</a>. </td></tr>
<tr>
<td><b>ATT</b> </td><td>Attribute Protocol. For more information, please refer to <a href="https://en.wikipedia.org/wiki/List_of_Bluetooth_protocols#Low_Energy_Attribute_Protocol_.28ATT.29">Wikipedia</a>. </td></tr>
<tr>
<td><b>UUID</b> </td><td>Universally Unique Identifier. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">Wikipedia</a>. </td></tr>
<tr>
<td><b>RFCOMM</b> </td><td>Radio Frequency Communications. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Bluetooth#RFCOMM">Wikipedia</a>. </td></tr>
<tr>
<td><b>OBEX</b> </td><td>Object exchange. For more information, please refer to <a href="https://en.wikipedia.org/wiki/OBject_EXchange">Wikipedia</a>. </td></tr>
<tr>
<td><b>SIM</b> </td><td>Subscriber identity module. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Subscriber_identity_module">Wikipedia</a>. </td></tr>
<tr>
<td><b>URL</b> </td><td>Uniform resource locator. For more information, please refer to <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Locator">Wikipedia</a>. </td></tr>
</table>
<h1><a class="anchor" id="bt_sdp_api_usage"></a>
How to use this module</h1>
<ul>
<li>Add a customized record with the service name, language list, service class ID list and the protocol description list for a sample profile. Please add your own record according to the SDP interoperability requirements in the related profile specification. To add customized records with the SDP macros and API:<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_sample_service_name[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga46aed1cfc116b229668f88573b11599a">BT_SDP_TEXT_8BIT</a>(7), <span class="comment">// The string length of the service name.</span></div><div class="line">    <span class="charliteral">&#39;S&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;m&#39;</span>, <span class="charliteral">&#39;p&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;e&#39;</span>,<span class="charliteral">&#39;\0&#39;</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_sample_language_list[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaaca88eee98da88892ebefa317e580610">BT_SDP_ATTRIBUTE_HEADER_8BIT</a>(9),<span class="comment">// In this example, each item is 3 bytes and the total length of the following list items is 9 bytes.</span></div><div class="line"></div><div class="line">    <span class="comment">// The language is defined as &quot;en&quot;. A language identifier represents the natural language. Please refer to the ISO 639:1988 (E/F): &quot;Code for the representation of names of languages&quot; and</span></div><div class="line">    <span class="comment">// the ISO 639 Codes (Names of Languages) at &quot;http://userpage.chemie.fu-berlin.de/diverse/doc/ISO_639.html&quot;.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga2e9ea200f3d91744aef1f5d1931394f5">BT_SDP_UINT_16BIT</a>(0x656E),</div><div class="line"></div><div class="line">    <span class="comment">// The encoding is defined as UTF-8. A character encoding identifier which can be found in IANA&#39;S database and</span></div><div class="line">    <span class="comment">// the Character Sets at &quot;http://www.isi.edu/in-notes/iana/assignments/character-sets&quot;.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga2e9ea200f3d91744aef1f5d1931394f5">BT_SDP_UINT_16BIT</a>(0x006A),</div><div class="line"></div><div class="line">    <span class="comment">// A base attribute ID for the natural language in the service record.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga2e9ea200f3d91744aef1f5d1931394f5">BT_SDP_UINT_16BIT</a>(0x0100)</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_sample_service_class_id_list[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaaca88eee98da88892ebefa317e580610">BT_SDP_ATTRIBUTE_HEADER_8BIT</a>(6),                    <span class="comment">// In this example, each item is 3 bytes and the total length of the following list items is 6 bytes.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaf98d7ba84dd7c981aaff027902f87556">BT_SDP_UUID_16BIT</a>(<a class="code" href="group___bluetoothhbif__sdp__define.html#ga6537ed60a14a86e5d752d1c5067f1dd2">BT_SDP_SERVICE_CLASS_HANDSFREE</a>),</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaf98d7ba84dd7c981aaff027902f87556">BT_SDP_UUID_16BIT</a>(<a class="code" href="group___bluetoothhbif__sdp__define.html#ga372f8ac5c3a00180d950e65577ad8ed7">BT_SDP_SERVICE_CLASS_GENERIC_AUDIO</a>)</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_sample_protocol_description_list[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaaca88eee98da88892ebefa317e580610">BT_SDP_ATTRIBUTE_HEADER_8BIT</a>(12),         <span class="comment">// The total length of all list items is 12 bytes.</span></div><div class="line"></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaaca88eee98da88892ebefa317e580610">BT_SDP_ATTRIBUTE_HEADER_8BIT</a>(3),          <span class="comment">// The total length of the following list item is 3 bytes.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaf98d7ba84dd7c981aaff027902f87556">BT_SDP_UUID_16BIT</a>(<a class="code" href="group___bluetoothhbif__sdp__define.html#ga9ffbb6b2a4d1b3a71cf402c6a502e989">BT_SDP_PROTOCOL_L2CAP</a>),</div><div class="line"></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaaca88eee98da88892ebefa317e580610">BT_SDP_ATTRIBUTE_HEADER_8BIT</a>(5),          <span class="comment">// The total length of the following two list items is 5 bytes.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaf98d7ba84dd7c981aaff027902f87556">BT_SDP_UUID_16BIT</a>(<a class="code" href="group___bluetoothhbif__sdp__define.html#gaa19b0c9ccb7d80102f830e27f1095bbf">BT_SDP_PROTOCOL_RFCOMM</a>),</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gac4e643aed8000deb2a78a8e07bea4a45">BT_SDP_UINT_8BIT</a>(0x01)</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structbt__sdps__attribute__t.html">bt_sdps_attribute_t</a> bt_sample_sdp_attributes[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga4739277be5ad08e48430c0b73dca1814">BT_SDP_ATTRIBUTE</a>(<a class="code" href="group___bluetoothhbif__sdp__define.html#gae8f1c6cf07c2d7e7b19ef4e3ff6c6262">BT_SDP_ATTRIBUTE_ID_SERVICE_CLASS_ID_LIST</a>, bt_sample_service_class_id_list),</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga4739277be5ad08e48430c0b73dca1814">BT_SDP_ATTRIBUTE</a>(<a class="code" href="group___bluetoothhbif__sdp__define.html#ga0513df5d47d0b1aad3d0974de72f2282">BT_SDP_ATTRIBUTE_ID_PROTOCOL_DESC_LIST</a>, bt_sample_protocol_description_list),</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga4739277be5ad08e48430c0b73dca1814">BT_SDP_ATTRIBUTE</a>(<a class="code" href="group___bluetoothhbif__sdp__define.html#gae99c0db67b1ca979eeeefbd3a156e31a">BT_SDP_ATTRIBUTE_ID_LANG_BASE_ID_LIST</a>, bt_sample_language_list),</div><div class="line">    <span class="comment">//Service name must add a base attribute ID, default is 0x0100, please refer to your profile.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga4739277be5ad08e48430c0b73dca1814">BT_SDP_ATTRIBUTE</a>(<a class="code" href="group___bluetoothhbif__sdp__define.html#gae08523286de1fa1e0194d7a2c8c0b3ef">BT_SDP_ATTRIBUTE_ID_SERVICE_NAME</a>+0x0100, bt_sample_service_name)</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structbt__sdps__record__t.html">bt_sdps_record_t</a> bt_sample_sdp_record =</div><div class="line">{</div><div class="line">    .<a class="code" href="structbt__sdps__record__t.html#af1c5959aa0d4e386d16504fd2d26d6d1">attribute_list_length</a> = <span class="keyword">sizeof</span>(bt_sample_sdp_attributes),</div><div class="line">    .attribute_list = bt_sample_sdp_attributes,</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="structbt__sdps__record__t.html">bt_sdps_record_t</a> *sdps_sample_record[]= {</div><div class="line">    &amp;bt_sample_sdp_record,</div><div class="line">};</div><div class="line"></div><div class="line"><span class="comment">// This API invoked by the SDK process should be implemented by the application.</span></div><div class="line"><span class="comment">// If no records to be found by the remote device, set the record_list to NULL and return 0.</span></div><div class="line">uint8_t <a class="code" href="group___bluetooth_s_d_p.html#ga570ba4e103c9dffd248f44e9aa5b13f6">bt_sdps_get_customized_record</a>(<span class="keyword">const</span> <a class="code" href="structbt__sdps__record__t.html">bt_sdps_record_t</a> *** record_list)</div><div class="line">{</div><div class="line">    *record_list = &amp;sdps_sample_record;</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(sdps_sample_record)/<span class="keyword">sizeof</span>(<a class="code" href="structbt__sdps__record__t.html">bt_sdps_record_t</a>*);</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>Use the SDP client API to get the DI vendor IDs of remote devices.<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_di_search_service_pattern[] =</div><div class="line">{</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaaca88eee98da88892ebefa317e580610">BT_SDP_ATTRIBUTE_HEADER_8BIT</a>(3),                            <span class="comment">//Data element sequence. The following attribute IDs are 3-bytes.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaf98d7ba84dd7c981aaff027902f87556">BT_SDP_UUID_16BIT</a>(BT_DI_SDP_SERVICE_CLASS_PNP_INFORMATION), <span class="comment">//UUID for PnP information is big-endian.</span></div><div class="line">    0x02,0x00                                                   <span class="comment">//Maximum number of handles to be returned is 0x0200.</span></div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t bt_di_search_attribute_pattern[] =</div><div class="line">{</div><div class="line">    0x00, 0x64,                      <span class="comment">//Maximum number of bytes of attribute data to be returned is 0x0064.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#gaaca88eee98da88892ebefa317e580610">BT_SDP_ATTRIBUTE_HEADER_8BIT</a>(6), <span class="comment">//Data element sequence. The following attribute IDs are 3-bytes.</span></div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga2e9ea200f3d91744aef1f5d1931394f5">BT_SDP_UINT_16BIT</a>(BT_DI_SDP_ATTRIBUTE_VENDOR_ID),</div><div class="line">    <a class="code" href="group___bluetoothhbif__sdp__define.html#ga2e9ea200f3d91744aef1f5d1931394f5">BT_SDP_UINT_16BIT</a>(BT_DI_SDP_ATTRIBUTE_PRODUCT_ID),</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line">    <a class="code" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> peer_address;</div><div class="line">    uint8_t state;</div><div class="line">}bt_profile_user_data_t;</div><div class="line"></div><div class="line"><span class="keyword">static</span> bt_profile_user_data_t di_profile;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> bt_sample_get_di_vendor_id(<a class="code" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> * addr)</div><div class="line">{</div><div class="line">    <a class="code" href="structbt__sdpc__service__request__t.html">bt_sdpc_service_request_t</a> request = {{0}};</div><div class="line">    <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> result;</div><div class="line">    memcpy(di_profile.peer_address, addr, <span class="keyword">sizeof</span>(<a class="code" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a>));</div><div class="line">    di_profile.state = 1;<span class="comment">//query is ongoing</span></div><div class="line">    request.<a class="code" href="structbt__sdpc__service__request__t.html#a123a2a06d06cee2c15595dadc523c198">search_pattern</a> = bt_di_search_service_pattern;</div><div class="line">    request.<a class="code" href="structbt__sdpc__service__request__t.html#aa99a72f364c7365e46cfa5b1107a27b5">pattern_length</a> = <span class="keyword">sizeof</span>(bt_di_search_service_pattern);</div><div class="line">    request.<a class="code" href="structbt__sdpc__service__request__t.html#a72e2db14e2201bb5b298ccb4b2fd0a85">address</a> = addr;</div><div class="line">    request.<a class="code" href="structbt__sdpc__service__request__t.html#a8d8a07b4be5a184c6926e620e4447c3e">user_data</a> = (<span class="keywordtype">void</span> *)&amp;di_profile;</div><div class="line">    result = <a class="code" href="group___bluetooth_s_d_p.html#ga6fafc7316be439dc3a7cda18a667ff5d">bt_sdpc_search_service</a>(&amp;request);</div><div class="line">}</div><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="group___bluetoothhbif__tx__power__config.html#ga63bf3a74436b08ebce5947787487ad4f">bt_app_event_callback</a>(<a class="code" href="group___bluetoothbt__primary__type__define.html#ga70daf1e6084c7eb55e190505b8f14643">bt_msg_type_t</a> msg, <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> status, <span class="keywordtype">void</span> *buff)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (msg == <a class="code" href="group___bluetoothhbif__sdp__define.html#ga1a17a53a7082462f257548c72fa7ba5c">BT_SDPC_SEARCH_SERVICE_CNF</a>) {</div><div class="line">        <a class="code" href="structbt__sdpc__service__cnf__t.html">bt_sdpc_service_cnf_t</a> *cnf = (<a class="code" href="structbt__sdpc__service__cnf__t.html">bt_sdpc_service_cnf_t</a>*)buff;</div><div class="line">        <span class="keywordflow">if</span> (cnf-&gt;<a class="code" href="structbt__sdpc__service__cnf__t.html#a8d8a07b4be5a184c6926e620e4447c3e">user_data</a> == &amp;di_profile &amp;&amp; di_profile.state != 0) {</div><div class="line">            bt_profile_user_data_t *user_data = (bt_profile_user_data_t *)cnf-&gt;<a class="code" href="structbt__sdpc__service__cnf__t.html#a8d8a07b4be5a184c6926e620e4447c3e">user_data</a>;</div><div class="line">            <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> result;</div><div class="line"></div><div class="line">            <span class="keywordflow">if</span>(cnf-&gt;<a class="code" href="structbt__sdpc__service__cnf__t.html#a15c14d7358591e70fb403b9e3d702e94">handle_number</a> &gt; 0) {</div><div class="line">                uint32_t query_service_handle = <a class="code" href="group___bluetooth_s_d_p.html#ga1f74cdaa436e555fdf9a549361b2a02f">bt_sdp_get_32bit</a>(cnf-&gt;<a class="code" href="structbt__sdpc__service__cnf__t.html#a1008bde624886e5ddbaead36673128e2">handle_list</a>);</div><div class="line"></div><div class="line">                <a class="code" href="structbt__sdpc__attribute__request__t.html">bt_sdpc_attribute_request_t</a> request = {{0}};</div><div class="line"></div><div class="line">                request.<a class="code" href="structbt__sdpc__attribute__request__t.html#aab1512b33d3518c6d4242d564fe488de">attribute_pattern</a> = bt_di_search_attribute_pattern;</div><div class="line">                request.<a class="code" href="structbt__sdpc__attribute__request__t.html#aa99a72f364c7365e46cfa5b1107a27b5">pattern_length</a> = <span class="keyword">sizeof</span>(bt_di_search_attribute_pattern);</div><div class="line">                request.<a class="code" href="structbt__sdpc__attribute__request__t.html#aafadfc9540ac09da1bef3ad7e48c51bf">search_handle</a> = query_service_handle;</div><div class="line">                request.<a class="code" href="structbt__sdpc__attribute__request__t.html#a8d8a07b4be5a184c6926e620e4447c3e">user_data</a> = user_data;</div><div class="line">                request.<a class="code" href="structbt__sdpc__attribute__request__t.html#a72e2db14e2201bb5b298ccb4b2fd0a85">address</a> = &amp;(user_data.peer_address);</div><div class="line">                result = <a class="code" href="group___bluetooth_s_d_p.html#ga7c6248fd7661d8cf0c18526aff4f0791">bt_sdpc_search_attribute</a>(&amp;request);</div><div class="line"></div><div class="line">                <span class="keywordflow">if</span> (result == <a class="code" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696">BT_STATUS_OUT_OF_MEMORY</a> ||</div><div class="line">                    result == <a class="code" href="group___bluetoothbt__primary__type__define.html#gacc993ff7cee949d92d30b873e5512f11">BT_STATUS_BUSY</a>) {</div><div class="line">                    <span class="comment">//retry again later</span></div><div class="line">                    <span class="keywordflow">return</span>;</div><div class="line">                }</div><div class="line">            } <span class="keywordflow">else</span> {</div><div class="line">                BT_LOGI(<span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;no di is found\n&quot;</span>);</div><div class="line">            }</div><div class="line">        }</div><div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="group___bluetoothhbif__sdp__define.html#gaf8509949f7f79e822c57b139c08e7ca9">BT_SDPC_SEARCH_ATTRIBUTE_CNF</a>) {</div><div class="line">        uint8_t *attr_value;</div><div class="line">        uint8_t *supported_value;</div><div class="line">        uint16_t value_len;</div><div class="line">        <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> result;</div><div class="line"></div><div class="line">        <a class="code" href="structbt__sdpc__attribute__cnf__t.html">bt_sdpc_attribute_cnf_t</a> *attr_query_result = (<a class="code" href="structbt__sdpc__attribute__cnf__t.html">bt_sdpc_attribute_cnf_t</a> *)buff;</div><div class="line">        <span class="keywordflow">if</span> (attr_query_result-&gt;<a class="code" href="structbt__sdpc__attribute__cnf__t.html#a8d8a07b4be5a184c6926e620e4447c3e">user_data</a> == &amp;di_profile &amp;&amp; di_profile.state != 0) {</div><div class="line">            <span class="keywordflow">if</span> (attr_query_result-&gt;<a class="code" href="structbt__sdpc__attribute__cnf__t.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a> &gt; 0) {</div><div class="line">                result = <a class="code" href="group___bluetooth_s_d_p.html#ga0ae5ff70c0399443143a2f01e724c181">bt_sdpc_parse_attribute</a>(</div><div class="line">                    &amp;attr_value,</div><div class="line">                    &amp;value_len,</div><div class="line">                    BT_DI_SDP_ATTRIBUTE_VENDOR_ID,</div><div class="line">                    0,</div><div class="line">                    attr_query_result-&gt;<a class="code" href="structbt__sdpc__attribute__cnf__t.html#a1892eba2086d12ac2b09005aeb09ea3b">length</a>,</div><div class="line">                    attr_query_result-&gt;<a class="code" href="structbt__sdpc__attribute__cnf__t.html#a847a9fd93de7a1584ddafd0fe1c78443">attribute_data</a>);</div><div class="line">                <span class="keywordflow">if</span> (result != 0) {</div><div class="line">                    BT_LOGI(<span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;no di vid is found\n&quot;</span>);</div><div class="line">                    <span class="keywordflow">return</span>;</div><div class="line">                }</div><div class="line">                result = <a class="code" href="group___bluetooth_s_d_p.html#ga15676654ac27e243ee3c66d9f57672d5">bt_sdpc_parse_next_value</a>(</div><div class="line">                    &amp;supported_value,</div><div class="line">                    &amp;value_len,</div><div class="line">                    attr_value,</div><div class="line">                    value_len);</div><div class="line"></div><div class="line">                <span class="keywordflow">if</span> (value_len &amp;&amp; !result) {</div><div class="line">                    uint16_t vid;</div><div class="line">                    <span class="keywordflow">if</span> (value_len != 2) {</div><div class="line">                        assert(0);</div><div class="line">                        <span class="keywordflow">return</span>;</div><div class="line">                    }</div><div class="line">                    vid = <a class="code" href="group___bluetooth_s_d_p.html#gad761c344cb399010f24d563181e7f36f">bt_sdp_get_16bit</a>(supported_value);</div><div class="line">                    BT_LOGI(<span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;di vid is %x\n&quot;</span>, vid);</div><div class="line">                } <span class="keywordflow">else</span> {</div><div class="line">                    BT_LOGI(<span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;no di vid is found\n&quot;</span>);</div><div class="line">                }</div><div class="line">            } <span class="keywordflow">else</span> {</div><div class="line">                BT_LOGI(<span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;no match avrcp attribute is found\n&quot;</span>);</div><div class="line">            }</div><div class="line">            di_profile.state = 0;</div><div class="line">        }</div><div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg == <a class="code" href="group___bluetoothhbif__sdp__define.html#ga34f069e35cf9626b3906e798e7b8050b">BT_SDPC_SEARCH_ERROR</a>) {</div><div class="line">        <a class="code" href="structbt__sdpc__search__error__t.html">bt_sdpc_search_error_t</a> *error = (<a class="code" href="structbt__sdpc__search__error__t.html">bt_sdpc_search_error_t</a> *)buff;</div><div class="line">        <span class="keywordflow">if</span> (error-&gt;<a class="code" href="structbt__sdpc__search__error__t.html#a8d8a07b4be5a184c6926e620e4447c3e">user_data</a> == &amp;di_profile &amp;&amp; di_profile.state != 0) {</div><div class="line">            BT_LOGI(<span class="stringliteral">&quot;APP&quot;</span>, <span class="stringliteral">&quot;sdp query error %x\n&quot;</span>, status);</div><div class="line">        }</div><div class="line">        di_profile.state = 0;</div><div class="line">    }</div><div class="line"></div><div class="line">}</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga570ba4e103c9dffd248f44e9aa5b13f6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_d_p.html#ga570ba4e103c9dffd248f44e9aa5b13f6">bt_sdps_get_customized_record</a> (const <a class="el" href="structbt__sdps__record__t.html">bt_sdps_record_t</a> ***record_list)</td></tr>
<tr class="memdesc:ga570ba4e103c9dffd248f44e9aa5b13f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a user defined callback and called by the SDP.  <a href="#ga570ba4e103c9dffd248f44e9aa5b13f6">More...</a><br /></td></tr>
<tr class="separator:ga570ba4e103c9dffd248f44e9aa5b13f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9255ffcd6b6388502215a1f89f05e0d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_d_p.html#ga9255ffcd6b6388502215a1f89f05e0d6">bt_sdps_notify_database_update</a> (void)</td></tr>
<tr class="memdesc:ga9255ffcd6b6388502215a1f89f05e0d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function tells the SDP server to update SDP database state because a record is added/removed.  <a href="#ga9255ffcd6b6388502215a1f89f05e0d6">More...</a><br /></td></tr>
<tr class="separator:ga9255ffcd6b6388502215a1f89f05e0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fafc7316be439dc3a7cda18a667ff5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_d_p.html#ga6fafc7316be439dc3a7cda18a667ff5d">bt_sdpc_search_service</a> (const <a class="el" href="structbt__sdpc__service__request__t.html">bt_sdpc_service_request_t</a> *request)</td></tr>
<tr class="memdesc:ga6fafc7316be439dc3a7cda18a667ff5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function searches the service handle.  <a href="#ga6fafc7316be439dc3a7cda18a667ff5d">More...</a><br /></td></tr>
<tr class="separator:ga6fafc7316be439dc3a7cda18a667ff5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c6248fd7661d8cf0c18526aff4f0791"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_d_p.html#ga7c6248fd7661d8cf0c18526aff4f0791">bt_sdpc_search_attribute</a> (const <a class="el" href="structbt__sdpc__attribute__request__t.html">bt_sdpc_attribute_request_t</a> *request)</td></tr>
<tr class="memdesc:ga7c6248fd7661d8cf0c18526aff4f0791"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function searches the attributes by service handle.  <a href="#ga7c6248fd7661d8cf0c18526aff4f0791">More...</a><br /></td></tr>
<tr class="separator:ga7c6248fd7661d8cf0c18526aff4f0791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ae5ff70c0399443143a2f01e724c181"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_d_p.html#ga0ae5ff70c0399443143a2f01e724c181">bt_sdpc_parse_attribute</a> (uint8_t **result, uint16_t *result_length, <a class="el" href="group___bluetoothhbif__sdp__define.html#ga36f5a365d43c14d5daad7f2b2d6611e8">bt_sdp_attribute_id_t</a> match_attribute_id, <a class="el" href="group___bluetoothhbif__sdp__define.html#gae4741b0cc7bb68a4cd06319af56ab84d">bt_sdp_protocol_uuid_t</a> match_UUID, uint16_t length, const uint8_t *data)</td></tr>
<tr class="memdesc:ga0ae5ff70c0399443143a2f01e724c181"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function parses attributes with the specific attribute id and UUID.  <a href="#ga0ae5ff70c0399443143a2f01e724c181">More...</a><br /></td></tr>
<tr class="separator:ga0ae5ff70c0399443143a2f01e724c181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga15676654ac27e243ee3c66d9f57672d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_d_p.html#ga15676654ac27e243ee3c66d9f57672d5">bt_sdpc_parse_next_value</a> (uint8_t **result, uint16_t *result_length, const uint8_t *attribute_data, uint16_t attribute_length)</td></tr>
<tr class="memdesc:ga15676654ac27e243ee3c66d9f57672d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function parses the next attribute value(excluding the header).  <a href="#ga15676654ac27e243ee3c66d9f57672d5">More...</a><br /></td></tr>
<tr class="separator:ga15676654ac27e243ee3c66d9f57672d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad761c344cb399010f24d563181e7f36f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_d_p.html#gad761c344cb399010f24d563181e7f36f">bt_sdp_get_16bit</a> (const uint8_t *data)</td></tr>
<tr class="memdesc:gad761c344cb399010f24d563181e7f36f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets a 16-bit value.  <a href="#gad761c344cb399010f24d563181e7f36f">More...</a><br /></td></tr>
<tr class="separator:gad761c344cb399010f24d563181e7f36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f74cdaa436e555fdf9a549361b2a02f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_s_d_p.html#ga1f74cdaa436e555fdf9a549361b2a02f">bt_sdp_get_32bit</a> (const uint8_t *data)</td></tr>
<tr class="memdesc:ga1f74cdaa436e555fdf9a549361b2a02f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets a 32-bit value.  <a href="#ga1f74cdaa436e555fdf9a549361b2a02f">More...</a><br /></td></tr>
<tr class="separator:ga1f74cdaa436e555fdf9a549361b2a02f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___bluetoothhbif__sdp__define"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetoothhbif__sdp__define.html">Define</a></td></tr>
<tr class="memdesc:group___bluetoothhbif__sdp__define"><td class="mdescLeft">&#160;</td><td class="mdescRight">This section defines the macros for the SDP server. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___bluetoothhbif__sdp__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetoothhbif__sdp__struct.html">Struct</a></td></tr>
<tr class="memdesc:group___bluetoothhbif__sdp__struct"><td class="mdescLeft">&#160;</td><td class="mdescRight">This section defines the structures for the SDP server. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad761c344cb399010f24d563181e7f36f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t bt_sdp_get_16bit </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets a 16-bit value. </p>
<p>It changes from big endian to little endian. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is attribute value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 16-bit value. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1f74cdaa436e555fdf9a549361b2a02f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t bt_sdp_get_32bit </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets a 32-bit value. </p>
<p>It changes from big endian to little endian. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is attribute value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 32-bit value. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0ae5ff70c0399443143a2f01e724c181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_sdpc_parse_attribute </td>
          <td>(</td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>result_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___bluetoothhbif__sdp__define.html#ga36f5a365d43c14d5daad7f2b2d6611e8">bt_sdp_attribute_id_t</a>&#160;</td>
          <td class="paramname"><em>match_attribute_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___bluetoothhbif__sdp__define.html#gae4741b0cc7bb68a4cd06319af56ab84d">bt_sdp_protocol_uuid_t</a>&#160;</td>
          <td class="paramname"><em>match_UUID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function parses attributes with the specific attribute id and UUID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>is the data pointer of the attribute data that has the same attribute ID and UUID (include header part of attribute value). It is only valid when the return value is BT_STATUS_SUCCESS. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result_length</td><td>is data length of the result pointer. It is only valid when the return value is BT_STATUS_SUCCESS. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">match_attribute_id</td><td>is attribute id to parse. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">match_UUID</td><td>is UUID of attribute value of above attribute id to parse. This parameter is ignored when it is set to 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>is the length of the attribute data . </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is attribute data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation failed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga15676654ac27e243ee3c66d9f57672d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_sdpc_parse_next_value </td>
          <td>(</td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>result_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>attribute_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attribute_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function parses the next attribute value(excluding the header). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>is data pointer of first attribute data. It is only valid when the return value is BT_STATUS_SUCCESS. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result_length</td><td>is data length of the first attribute value. It is only valid when the return value is BT_STATUS_SUCCESS. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute_data</td><td>is attribute data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute_length</td><td>is length of attribute data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7c6248fd7661d8cf0c18526aff4f0791"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_sdpc_search_attribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbt__sdpc__attribute__request__t.html">bt_sdpc_attribute_request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function searches the attributes by service handle. </p>
<p>The application receives the <a class="el" href="group___bluetoothhbif__sdp__define.html#gaf8509949f7f79e822c57b139c08e7ca9" title="The search service confirmation event is triggered when an attribute or error response is received...">BT_SDPC_SEARCH_ATTRIBUTE_CNF</a> event or BT_SDPC_SEARCH_ERROR event when a remote device gives a response to the search. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>is the search detail of this search. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. The user can try again after a set time. <a class="el" href="group___bluetoothbt__primary__type__define.html#gacc993ff7cee949d92d30b873e5512f11" title="General busy, please re-try the operation later. ">BT_STATUS_BUSY</a>, the operation failed because the sdp channel is disconnecting. The user can try again after a set time. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6fafc7316be439dc3a7cda18a667ff5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_sdpc_search_service </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbt__sdpc__service__request__t.html">bt_sdpc_service_request_t</a> *&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function searches the service handle. </p>
<p>The application receives the <a class="el" href="group___bluetoothhbif__sdp__define.html#ga1a17a53a7082462f257548c72fa7ba5c" title="The event report to user. ">BT_SDPC_SEARCH_SERVICE_CNF</a> event or BT_SDPC_SEARCH_ERROR event when a remote device gives a response to the search. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>is the search detail of this search. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation has failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. The user can try again after a set time. <a class="el" href="group___bluetoothbt__primary__type__define.html#gacc993ff7cee949d92d30b873e5512f11" title="General busy, please re-try the operation later. ">BT_STATUS_BUSY</a>, the operation failed because the sdp channel is disconnecting. The user can try again after a set time. </dd></dl>

</div>
</div>
<a class="anchor" id="ga570ba4e103c9dffd248f44e9aa5b13f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t bt_sdps_get_customized_record </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbt__sdps__record__t.html">bt_sdps_record_t</a> ***&#160;</td>
          <td class="paramname"><em>record_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a user defined callback and called by the SDP. </p>
<p>It might be implemented by the application to provide the customized record and record number. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">record_list</td><td>is a pointer to the record list. If there is no customized record, the record_list should be NULL and return 0. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The record number. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9255ffcd6b6388502215a1f89f05e0d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_sdps_notify_database_update </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function tells the SDP server to update SDP database state because a record is added/removed. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 28 2023 17:13:33 for AB158x Series MCU API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AB158x Series MCU API Reference: SERIAL_FLASH</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="airoha.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AB158x Series MCU API Reference
   &#160;<span id="projectnumber">Airoha IoT SDK for BT Audio</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___s_e_r_i_a_l___f_l_a_s_h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">SERIAL_FLASH<div class="ingroups"><a class="el" href="group___b_s_p.html">BSP</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section describes the programming interfaces of the BSP FLASH driver, Which provides the driver to operate SIP or external FLASH.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section describes the programming interfaces of the BSP FLASH driver, Which provides the driver to operate SIP or external FLASH. </p>
<h1><a class="anchor" id="BSP_FLASH_Terms_Chapter"></a>
Terms and acronyms</h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>XIP</b> </td><td>eXecute In Place: A method of executing programs directly from long term storage rather than copying it into the RAM </td></tr>
<tr>
<td><b>SFC</b> </td><td>The serial flash controller (SFC) supports convenient high-speed serial NOR flash access and flexible macro command sequence read/write. </td></tr>
<tr>
<td><b>SIP</b> </td><td>System in package. It is a number of integrated circuits enclosed in a single chip carrier package. For more information, please check <a href="https://en.wikipedia.org/wiki/System_in_package">System in package in Wikipedia</a>. </td></tr>
<tr>
<td><b>SPI</b> </td><td>Serial Peripheral Interface. The Serial Peripheral Interface bus is a synchronous serial communication interface specification used for short distance communication. For more information, please check <a href="https://en.wikipedia.org/wiki/Serial_peripheral_interface">Serial Peripheral Interface Bus in Wikipedia</a>. </td></tr>
<tr>
<td><b>ESC</b> </td><td>The External SRAM Controller provides the platform capability to extend its memory space. </td></tr>
</table>
<h1><a class="anchor" id="BSP_FLASH_Features_Chapter"></a>
Supported features</h1>
<p>The general purpose of FLASH is to save data. The features supported by this module are listed below:</p><ul>
<li><b>FLASH</b> <b>erase</b> <br />
It must be erased before data can be saved into the FLASH storage; Function <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga1bf03a0f26afe2920eb05e237bc52b73" title="This function erases the serial flash. ">bsp_flash_erase()</a> implements this operation.</li>
<li><b>FLASH</b> <b>write</b> <br />
Function <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga792155a80e0bc498655662fb6b8a203b" title="This function writes data to the serial flash. ">bsp_flash_write()</a> is called to save data into the FLASH storage after it is erased.</li>
<li><b>FLASH</b> <b>read</b> <br />
Function <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga668c8870fef65f8af24adf6b5a43cc89" title="This function reads data from the serial flash. ">bsp_flash_read()</a> is called to read data from the FLASH storage.</li>
<li><b>High-level</b> <b>abstraction</b> <br />
Users can use BSP APIs to operate all types of Flash supported by the SDK. BSP flash can operate different types of Flash through different addresses specified by users.</li>
</ul>
<h1><a class="anchor" id="BSP_FLASH_High_Level_Driver_Usage_Chapter"></a>
How to use the memory of FLASH</h1>
<ul>
<li><b>SFC</b> <b>FLASH</b> <b>read</b> <b>and</b> <b>Write</b> <ul>
<li>Step 1: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga307e4832f0fe4290f1b2667ad65d7521" title="This function does the initialization for the serial flash and SPI Master. ">bsp_flash_init()</a> to initialize the SFC FLASH.</li>
<li>Step 2: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga1bf03a0f26afe2920eb05e237bc52b73" title="This function erases the serial flash. ">bsp_flash_erase()</a> to erase the target block of the FLASH storage before write.</li>
<li>Step 3: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga792155a80e0bc498655662fb6b8a203b" title="This function writes data to the serial flash. ">bsp_flash_write()</a> to write data to the FLASH storage.</li>
<li>Step 4: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga668c8870fef65f8af24adf6b5a43cc89" title="This function reads data from the serial flash. ">bsp_flash_read()</a> to read data from the FLASH storage.</li>
<li>Step 5: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga3bbe265191b97556e299bf141379c0df" title="This function resets the serial flash and SPI Master. ">bsp_flash_deinit()</a> to de-initialize the driver.</li>
<li>Sample code: <div class="fragment"><div class="line"><span class="keywordtype">void</span> bsp_sfc_flash_example(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line"><span class="preprocessor">   #define MAX_DATA (4096)</span></div><div class="line">   uint8_t data_to_write[MAX_DATA] = {0};</div><div class="line">   uint8_t data_read[MAX_DATA] = {0};</div><div class="line"></div><div class="line">   <span class="comment">// For SFC Flash, the address is an offset from zero, the maximum is the flash size.</span></div><div class="line">   <span class="comment">// It is not necessary to do init and de-init for SFC Flash;</span></div><div class="line">   <span class="comment">// Erase 4k form start adress.</span></div><div class="line">   uint32_t start_address = 0x10000 | <a class="code" href="group__hal__flash__define.html#gabf0093ce7324793940129abfd3050fc8">HAL_FLASH_BASE_ADDRESS</a>;</div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga1bf03a0f26afe2920eb05e237bc52b73">bsp_flash_erase</a>(start_address, <a class="code" href="group__bsp__flash__enum.html#ggac34328171d82ac23ba560a6f1e4f5bffad7998ce92a0cefc0c43a592752309596">BSP_FLASH_BLOCK_4K</a>)) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line">   <span class="comment">//Write data to start address</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga792155a80e0bc498655662fb6b8a203b">bsp_flash_write</a>(start_address, data_to_write, <span class="keyword">sizeof</span>(data_to_write))) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line">   <span class="comment">//Read data from start address.</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga668c8870fef65f8af24adf6b5a43cc89">bsp_flash_read</a>(start_address, data_read, <span class="keyword">sizeof</span>(data_read))) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line"> }</div></div><!-- fragment --></li>
</ul>
</li>
<li><b>SPI</b> <b>FLASH</b> <b>read</b> <b>and</b> <b>Write</b> <ul>
<li>Step 1: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga307e4832f0fe4290f1b2667ad65d7521" title="This function does the initialization for the serial flash and SPI Master. ">bsp_flash_init()</a> to initialize the SIP FLASH or SPI FLASH module.</li>
<li>Step 2: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga1bf03a0f26afe2920eb05e237bc52b73" title="This function erases the serial flash. ">bsp_flash_erase()</a> to erase the target block of the FLASH storage before write.</li>
<li>Step 3: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga792155a80e0bc498655662fb6b8a203b" title="This function writes data to the serial flash. ">bsp_flash_write()</a> to write data to the FLASH storage.</li>
<li>Step 4: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga668c8870fef65f8af24adf6b5a43cc89" title="This function reads data from the serial flash. ">bsp_flash_read()</a> to read data from the FLASH storage.</li>
<li>Step 5: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga3bbe265191b97556e299bf141379c0df" title="This function resets the serial flash and SPI Master. ">bsp_flash_deinit()</a> to de-initialize the driver.</li>
<li>Sample code: <div class="fragment"><div class="line"><span class="keywordtype">void</span> bsp_spi_flash_example(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line"><span class="preprocessor">   #define MAX_DATA (4096)</span></div><div class="line">   uint8_t data_to_write[MAX_DATA] = {0};</div><div class="line">   uint8_t data_read[MAX_DATA] = {0};</div><div class="line">   <span class="comment">// For SPI external Flash, it assumes that the address starts at #SPI_SERIAL_FLASH_ADDRESS,</span></div><div class="line">   <span class="comment">// so the Start_address should be within BSP_EXTERNAL_FLASH_BASE_ADDRESS to BSP_EXTERNAL_FLASH_BASE_ADDRESS+flash size.</span></div><div class="line">   uint32_t start_address = 0x10000 | <a class="code" href="group__bsp__flash__define.html#gaf606ce3f92d0e12d6753b5cd49de4f2b">BSP_EXTERNAL_FLASH_BASE_ADDRESS</a>;</div><div class="line">   <span class="comment">// Initialize the SPI master and SPI external flash</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga307e4832f0fe4290f1b2667ad65d7521">bsp_flash_init</a>()) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line">   <span class="comment">//Erase 4k form start adress</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga1bf03a0f26afe2920eb05e237bc52b73">bsp_flash_erase</a>(start_address, <a class="code" href="group__bsp__flash__enum.html#ggac34328171d82ac23ba560a6f1e4f5bffad7998ce92a0cefc0c43a592752309596">BSP_FLASH_BLOCK_4K</a>)) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line">   <span class="comment">//Write data to start address</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga792155a80e0bc498655662fb6b8a203b">bsp_flash_write</a>(start_address, data_to_write, <span class="keyword">sizeof</span>(data_to_write))) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line">   <span class="comment">//Read data from start address.</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga668c8870fef65f8af24adf6b5a43cc89">bsp_flash_read</a>(start_address, data_read, <span class="keyword">sizeof</span>(data_read))) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line">   <span class="comment">// De-initialize the SPI master and external flash if these are not used any more.</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga3bbe265191b97556e299bf141379c0df">bsp_flash_deinit</a>()) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line"> }</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>Because the SPI API used does not support re-entry, it is necessary to limit the use of SPI Flash to Task level in bsp Flash. At the same time, under the SPI Flash solution, mutex is also needed to ensure that only one task is operating SPI Flash.</dd></dl>
</li>
</ul>
</li>
<li><b>ESC</b> <b>FLASH</b> <b>read</b> <b>and</b> <b>Write</b> <ul>
<li>Step 1: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga307e4832f0fe4290f1b2667ad65d7521" title="This function does the initialization for the serial flash and SPI Master. ">bsp_flash_init()</a> to initialize the ESC FLASH.</li>
<li>Step 2: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga1bf03a0f26afe2920eb05e237bc52b73" title="This function erases the serial flash. ">bsp_flash_erase()</a> to erase the target block of the FLASH storage before write.</li>
<li>Step 3: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga792155a80e0bc498655662fb6b8a203b" title="This function writes data to the serial flash. ">bsp_flash_write()</a> to write data to the FLASH storage.</li>
<li>Step 4: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga668c8870fef65f8af24adf6b5a43cc89" title="This function reads data from the serial flash. ">bsp_flash_read()</a> to read data from the FLASH storage.</li>
<li>Step 5: Call <a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga3bbe265191b97556e299bf141379c0df" title="This function resets the serial flash and SPI Master. ">bsp_flash_deinit()</a> to de-initialize the driver.</li>
<li>Sample code: <div class="fragment"><div class="line"><span class="preprocessor">#include &quot;hal_esc_internal.h&quot;</span></div><div class="line"><span class="keywordtype">void</span> bsp_esc_flash_example(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line"><span class="preprocessor">   #define MAX_DATA (4096)</span></div><div class="line">   uint8_t data_to_write[MAX_DATA] = {0};</div><div class="line">   uint8_t data_read[MAX_DATA] = {0};</div><div class="line"></div><div class="line">   <span class="comment">// For ESC Flash, the address is an offset from zero, the maximum is the flash size.</span></div><div class="line">   <span class="comment">// It is not necessary to do init and de-init for ESC Flash;</span></div><div class="line">   <span class="comment">// Erase 4k form start adress.</span></div><div class="line">   uint32_t start_address = 0x10000 | HAL_ESC_BASE_ADDRESS;</div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga1bf03a0f26afe2920eb05e237bc52b73">bsp_flash_erase</a>(start_address, <a class="code" href="group__bsp__flash__enum.html#ggac34328171d82ac23ba560a6f1e4f5bffad7998ce92a0cefc0c43a592752309596">BSP_FLASH_BLOCK_4K</a>)) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line">   <span class="comment">//Write data to start address</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga792155a80e0bc498655662fb6b8a203b">bsp_flash_write</a>(start_address, data_to_write, <span class="keyword">sizeof</span>(data_to_write))) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line">   <span class="comment">//Read data from start address.</span></div><div class="line">   <span class="keywordflow">if</span> (<a class="code" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14">BSP_FLASH_STATUS_OK</a> != <a class="code" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga668c8870fef65f8af24adf6b5a43cc89">bsp_flash_read</a>(start_address, data_read, <span class="keyword">sizeof</span>(data_read))) {</div><div class="line">       <span class="comment">//Please do error handling.</span></div><div class="line">   }</div><div class="line"> }</div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga307e4832f0fe4290f1b2667ad65d7521"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga307e4832f0fe4290f1b2667ad65d7521">bsp_flash_init</a> (void)</td></tr>
<tr class="memdesc:ga307e4832f0fe4290f1b2667ad65d7521"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function does the initialization for the serial flash and SPI Master.  <a href="#ga307e4832f0fe4290f1b2667ad65d7521">More...</a><br /></td></tr>
<tr class="separator:ga307e4832f0fe4290f1b2667ad65d7521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga668c8870fef65f8af24adf6b5a43cc89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga668c8870fef65f8af24adf6b5a43cc89">bsp_flash_read</a> (uint32_t address, uint8_t *buffer, uint32_t length)</td></tr>
<tr class="memdesc:ga668c8870fef65f8af24adf6b5a43cc89"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads data from the serial flash.  <a href="#ga668c8870fef65f8af24adf6b5a43cc89">More...</a><br /></td></tr>
<tr class="separator:ga668c8870fef65f8af24adf6b5a43cc89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga792155a80e0bc498655662fb6b8a203b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga792155a80e0bc498655662fb6b8a203b">bsp_flash_write</a> (uint32_t address, uint8_t *data, int32_t length)</td></tr>
<tr class="memdesc:ga792155a80e0bc498655662fb6b8a203b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function writes data to the serial flash.  <a href="#ga792155a80e0bc498655662fb6b8a203b">More...</a><br /></td></tr>
<tr class="separator:ga792155a80e0bc498655662fb6b8a203b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bf03a0f26afe2920eb05e237bc52b73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga1bf03a0f26afe2920eb05e237bc52b73">bsp_flash_erase</a> (uint32_t address, <a class="el" href="group__bsp__flash__enum.html#gac34328171d82ac23ba560a6f1e4f5bff">bsp_block_size_type_t</a> block_size)</td></tr>
<tr class="memdesc:ga1bf03a0f26afe2920eb05e237bc52b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function erases the serial flash.  <a href="#ga1bf03a0f26afe2920eb05e237bc52b73">More...</a><br /></td></tr>
<tr class="separator:ga1bf03a0f26afe2920eb05e237bc52b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bbe265191b97556e299bf141379c0df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_e_r_i_a_l___f_l_a_s_h.html#ga3bbe265191b97556e299bf141379c0df">bsp_flash_deinit</a> (void)</td></tr>
<tr class="memdesc:ga3bbe265191b97556e299bf141379c0df"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function resets the serial flash and SPI Master.  <a href="#ga3bbe265191b97556e299bf141379c0df">More...</a><br /></td></tr>
<tr class="separator:ga3bbe265191b97556e299bf141379c0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__bsp__flash__define"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bsp__flash__define.html">Define</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__bsp__flash__enum"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bsp__flash__enum.html">Enums</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3bbe265191b97556e299bf141379c0df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a> bsp_flash_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function resets the serial flash and SPI Master. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30dae999c02b92919e7d0048011037695cad" title="The device is busy. ">BSP_FLASH_STATUS_BUSY</a> means the device is busy.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da2366b2c5aa75b7d78f0dd6c56b8185f5" title="Did not find flash device. ">BSP_FLASH_ERROR_NOT_FOUND_DEVICE</a> means it did not find the device. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da806d321fe585c7493ed3bcec05c76a10" title="Invalid parameter error. ">BSP_FLASH_WRONG_PARAMETER</a> means an invalid parameter is given by the user.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da9388a64eeddcf588fe3ab6bad3ae3dbe" title="Driver is not initiazed. ">BSP_FLASH_STATUS_NOT_INIT</a> means the driver is not initialized.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da5a1794744c980b6029f2dffe40044aee" title="BSP flash unspecified error. ">BSP_FLASH_STATUS_ERROR</a> means an error occurred during the operation. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14" title="No error occurred. ">BSP_FLASH_STATUS_OK</a> means this function returns successfully.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga1bf03a0f26afe2920eb05e237bc52b73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a> bsp_flash_erase </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__bsp__flash__enum.html#gac34328171d82ac23ba560a6f1e4f5bff">bsp_block_size_type_t</a>&#160;</td>
          <td class="paramname"><em>block_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function erases the serial flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>erase start address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block_size</td><td>erase block size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30dae999c02b92919e7d0048011037695cad" title="The device is busy. ">BSP_FLASH_STATUS_BUSY</a> means the device is busy.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da2366b2c5aa75b7d78f0dd6c56b8185f5" title="Did not find flash device. ">BSP_FLASH_ERROR_NOT_FOUND_DEVICE</a> means it did not find the device. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da806d321fe585c7493ed3bcec05c76a10" title="Invalid parameter error. ">BSP_FLASH_WRONG_PARAMETER</a> means an invalid parameter is given by the user.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da9388a64eeddcf588fe3ab6bad3ae3dbe" title="Driver is not initiazed. ">BSP_FLASH_STATUS_NOT_INIT</a> means the driver is not initialized.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da5a1794744c980b6029f2dffe40044aee" title="BSP flash unspecified error. ">BSP_FLASH_STATUS_ERROR</a> means an error occurred during the operation. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14" title="No error occurred. ">BSP_FLASH_STATUS_OK</a> means this function returns successfully.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga307e4832f0fe4290f1b2667ad65d7521"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a> bsp_flash_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function does the initialization for the serial flash and SPI Master. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30dae999c02b92919e7d0048011037695cad" title="The device is busy. ">BSP_FLASH_STATUS_BUSY</a> means the device is busy.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da2366b2c5aa75b7d78f0dd6c56b8185f5" title="Did not find flash device. ">BSP_FLASH_ERROR_NOT_FOUND_DEVICE</a> means it did not find the device. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da806d321fe585c7493ed3bcec05c76a10" title="Invalid parameter error. ">BSP_FLASH_WRONG_PARAMETER</a> means an invalid parameter is given by the user.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da9388a64eeddcf588fe3ab6bad3ae3dbe" title="Driver is not initiazed. ">BSP_FLASH_STATUS_NOT_INIT</a> means the driver is not initialized.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da5a1794744c980b6029f2dffe40044aee" title="BSP flash unspecified error. ">BSP_FLASH_STATUS_ERROR</a> means an error occurred during the operation. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14" title="No error occurred. ">BSP_FLASH_STATUS_OK</a> means this function returns successfully.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga668c8870fef65f8af24adf6b5a43cc89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a> bsp_flash_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads data from the serial flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>read address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>buffer for read data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>read data length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30dae999c02b92919e7d0048011037695cad" title="The device is busy. ">BSP_FLASH_STATUS_BUSY</a> means the device is busy.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da2366b2c5aa75b7d78f0dd6c56b8185f5" title="Did not find flash device. ">BSP_FLASH_ERROR_NOT_FOUND_DEVICE</a> means it did not find the device. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da806d321fe585c7493ed3bcec05c76a10" title="Invalid parameter error. ">BSP_FLASH_WRONG_PARAMETER</a> means an invalid parameter is given by the user.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da9388a64eeddcf588fe3ab6bad3ae3dbe" title="Driver is not initiazed. ">BSP_FLASH_STATUS_NOT_INIT</a> means the driver is not initialized.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da5a1794744c980b6029f2dffe40044aee" title="BSP flash unspecified error. ">BSP_FLASH_STATUS_ERROR</a> means an error occurred during the operation. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14" title="No error occurred. ">BSP_FLASH_STATUS_OK</a> means this function returns successfully.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga792155a80e0bc498655662fb6b8a203b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__bsp__flash__enum.html#gade8b9b72e37bb4d7d424369da096c30d">bsp_flash_status_t</a> bsp_flash_write </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function writes data to the serial flash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>write address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>write data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>write data length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30dae999c02b92919e7d0048011037695cad" title="The device is busy. ">BSP_FLASH_STATUS_BUSY</a> means the device is busy.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da2366b2c5aa75b7d78f0dd6c56b8185f5" title="Did not find flash device. ">BSP_FLASH_ERROR_NOT_FOUND_DEVICE</a> means it did not find the device. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da806d321fe585c7493ed3bcec05c76a10" title="Invalid parameter error. ">BSP_FLASH_WRONG_PARAMETER</a> means an invalid parameter is given by the user.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da9388a64eeddcf588fe3ab6bad3ae3dbe" title="Driver is not initiazed. ">BSP_FLASH_STATUS_NOT_INIT</a> means the driver is not initialized.<br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da5a1794744c980b6029f2dffe40044aee" title="BSP flash unspecified error. ">BSP_FLASH_STATUS_ERROR</a> means an error occurred during the operation. <br />
 <a class="el" href="group__bsp__flash__enum.html#ggade8b9b72e37bb4d7d424369da096c30da6d7e0d3df5e95f62d9b0e1efe6c52a14" title="No error occurred. ">BSP_FLASH_STATUS_OK</a> means this function returns successfully.<br />
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Dec 29 2023 02:13:06 for AB158x Series MCU API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

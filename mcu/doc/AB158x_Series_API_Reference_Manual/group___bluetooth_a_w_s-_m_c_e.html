<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AB158x Series MCU API Reference: AWS-MCE</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="airoha.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AB158x Series MCU API Reference
   &#160;<span id="projectnumber">Airoha IoT SDK for BT Audio</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___bluetooth_a_w_s-_m_c_e.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">AWS-MCE<div class="ingroups"><a class="el" href="group___bluetooth.html">Bluetooth</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The Airoha Wireless Stereo (AWS) with Multicast Extension (MCE) is an Airoha proprietary profile to support voice/audio over multiple Bluetooth Audio devices via a special link called AWS_MCE.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>The Airoha Wireless Stereo (AWS) with Multicast Extension (MCE) is an Airoha proprietary profile to support voice/audio over multiple Bluetooth Audio devices via a special link called AWS_MCE. </p>
<p>AWS_MCE Link is an extension for the Bluetooth link with an AWS_MCE packet/role extension mechanism. There is no extra cost for a piconet switch and less overhead compared with other solutions because only one Wireless Link is used in AWS.</p>
<h1>Terms and Acronyms </h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>AWS</b> Link </td><td>AWS Link is an extension for the Bluetooth Link with a AWS PACKET/ROLE EXTENSION mechanism. </td></tr>
<tr>
<td><b>Agent</b> role </td><td>Agent role is an extension role in the AWS Link. The device in the Agent role works in either the Master role or Slave role in AWS Link, which is connected with SP. </td></tr>
<tr>
<td><b>Client</b> role </td><td>Client role is an extension role in the AWS Link. In general, Client role does not give the feedback directly to the Phone role. It receives the data from either the Phone role or the Agent role. </td></tr>
<tr>
<td><b>Partner</b> role </td><td>Partner role is a special Client that can exchange information with the Agent. In general, there is only one Partner in an AWS-MCE link. </td></tr>
<tr>
<td><b>IF</b> packet </td><td>IF Packet, information packet, is exchanged between the Agent and Partner, and is used to share sink A2DP, CALL or other status. </td></tr>
<tr>
<td><b>Earbuds</b> plus mode </td><td>Earbuds Plus mode is a special design to extend the number of buds from 2 to 4 in paired AWS-MCE earbuds. </td></tr>
</table>
<p>Two pairs of earbuds (Agent, Partner, Follower 1 and Follower 2) could be supported in AWS-MCE earbuds plus mode. | |<b>Follower</b> role | Follower role is an extended Partner role in earbuds plus mode, it may be another pair of paired earbuds, Agent or Partner. To communicate with Agent in earbuds plus mode, the follower should stop the connection with original smartphone and AWS-MCE link, and then connect to the Agent. | |<b>Follower</b> 1 | Follower 1 was an Agent role before it joins to earbuds plus mode, it can communicate with Agent and Follower 2 in earbuds plus mode. | |<b>Follower</b> 2 | Follower 2 was a Partner role before it joins to earbuds plus mode, it can communicate with Agent and Follower 1 in earbuds plus mode.|</p>
<h1><a class="anchor" id="bt_aws_mce_api_usage"></a>
How to use this module</h1>
<p>This section presents the AWS-MCE connection handle and a method for the information packet.</p><ul>
<li>1. (Mandatory) Implement <a class="el" href="group___bluetoothhbif__tx__power__config.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> to handle the AWS-MCE events, such as connect, state change, information update, and more.<ul>
<li>Sample code: <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___bluetoothhbif__tx__power__config.html#ga63bf3a74436b08ebce5947787487ad4f">bt_app_event_callback</a>(<a class="code" href="group___bluetoothbt__primary__type__define.html#ga70daf1e6084c7eb55e190505b8f14643">bt_msg_type_t</a> msg_type, <a class="code" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> status, <span class="keywordtype">void</span> *data)</div><div class="line">{</div><div class="line">   <span class="keywordflow">switch</span> (msg_type)</div><div class="line">   {</div><div class="line">       <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__aws__mce__define.html#gac773adbfb6f61cbe17d7d32a6fe2db97">BT_AWS_MCE_CONNECTED</a>:</div><div class="line">       {</div><div class="line">           <a class="code" href="structbt__aws__mce__connected__t.html">bt_aws_mce_connected_t</a> *connected = (<a class="code" href="structbt__aws__mce__connected__t.html">bt_aws_mce_connected_t</a> *)data;</div><div class="line">           <span class="comment">// AWS-MCE link connected.</span></div><div class="line">           <span class="comment">// Records the connected information(handle, remote address).</span></div><div class="line">           <span class="keywordflow">break</span>;</div><div class="line">       }</div><div class="line">       <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__aws__mce__define.html#gac3727cf90ab96fac9b7f8098ac148115">BT_AWS_MCE_STATE_CHANGED_IND</a>:</div><div class="line">       {</div><div class="line">           <span class="comment">// The state is only for the Agent.</span></div><div class="line">            <a class="code" href="structbt__aws__mce__state__change__ind__t.html">bt_aws_mce_state_change_ind_t</a> *changed_data = (<a class="code" href="structbt__aws__mce__state__change__ind__t.html">bt_aws_mce_state_change_ind_t</a> *)data;</div><div class="line">           <span class="comment">// Do something in different new state.</span></div><div class="line">           <span class="keywordflow">break</span>;</div><div class="line">       }</div><div class="line">       <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__aws__mce__define.html#ga7c05a7b7ae55531e0a33cc5723ab6823">BT_AWS_MCE_INFOMATION_PACKET_IND</a>:</div><div class="line">       {</div><div class="line">           <a class="code" href="structbt__aws__mce__information__t.html">bt_aws_mce_information_t</a> *information = (<a class="code" href="structbt__aws__mce__information__t.html">bt_aws_mce_information_t</a> *)data;</div><div class="line">           <span class="comment">// The application can get the information packet type and related data to perform different operations.</span></div><div class="line">           <span class="keywordflow">switch</span> (information-&gt;<a class="code" href="structbt__aws__mce__information__t.html#a82e505d969dd7d1906945e1c89036a15">type</a>) {</div><div class="line">               <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__aws__mce__define.html#ga60dfa77dd21cd561e27b531d99f1c667">BT_AWS_MCE_INFORMATION_A2DP</a>:</div><div class="line">               {</div><div class="line">                   <span class="comment">// enter A2DP related procedure.</span></div><div class="line">                   <span class="keywordflow">break</span>;</div><div class="line">               }</div><div class="line">               <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__aws__mce__define.html#gac29f98f9ac2dcc666d2a2d05995fe3cd">BT_AWS_MCE_INFORMATION_SCO</a>:</div><div class="line">               {</div><div class="line">                   <span class="comment">// enter call related procedure.</span></div><div class="line">                   <span class="keywordflow">break</span>;</div><div class="line">               }</div><div class="line">               <span class="keywordflow">case</span> <a class="code" href="group___bluetoothbt__aws__mce__define.html#ga80abb0da31875cea8bc52d4eff38dc4d">BT_AWS_MCE_INFORMATION_REPORT_APP</a>:</div><div class="line">               {</div><div class="line">                   <span class="comment">// enter other application related procedure. For example, the key operation.</span></div><div class="line">                   <span class="keywordflow">break</span>;</div><div class="line">               }</div><div class="line">               <span class="keywordflow">default</span>:</div><div class="line">               {</div><div class="line">                   <span class="keywordflow">break</span>;</div><div class="line">               }</div><div class="line">           }</div><div class="line">           <span class="keywordflow">break</span>;</div><div class="line">       }</div><div class="line">       <span class="keywordflow">default</span>:</div><div class="line">       {</div><div class="line">           <span class="keywordflow">break</span>;</div><div class="line">       }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li>2. (Mandatory) Connect to a remote device, as shown in figure titled as "AWS-MCE connection establishment message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Sample code: Connect to a remote device by passing the remote Bluetooth address and getting the connection handle. The event <a class="el" href="group___bluetoothbt__aws__mce__define.html#gac773adbfb6f61cbe17d7d32a6fe2db97" title="The event reported to the user. ">BT_AWS_MCE_CONNECTED</a> captured by <a class="el" href="group___bluetoothhbif__tx__power__config.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> indicates the AWS-MCE is connected. <div class="fragment"><div class="line"><a class="code" href="group___bluetooth_a_w_s-_m_c_e.html#ga5e4b1a385b603c953561f4a77d73039d">bt_aws_mce_connect</a>(&amp;handle, &amp;addr);</div></div><!-- fragment --></li>
<li>3. (Mandatory) Change the Agent state, as shown in figure titled as "AWS-MCE connection establishment message sequence" in the Bluetooth developer's guide under the [sdk_root]/doc folder.</li>
<li>Sample code: Change to connectable state when AWS-MCE is connected, so that Partner can attach to Agent. The event <a class="el" href="group___bluetoothbt__aws__mce__define.html#gac3727cf90ab96fac9b7f8098ac148115" title="An Agent state update notification with the bt_aws_mce_state_change_ind_t payload. ">BT_AWS_MCE_STATE_CHANGED_IND</a> captured by <a class="el" href="group___bluetoothhbif__tx__power__config.html#ga63bf3a74436b08ebce5947787487ad4f" title="This function is a static callback for the application to listen to the event. ">bt_app_event_callback()</a> indicates the AWS-MCE agent state changed. <div class="fragment"><div class="line"><a class="code" href="group___bluetooth_a_w_s-_m_c_e.html#ga91fa1b58794ff90c7110b3a48e8d97df">bt_aws_mce_set_state</a>(&amp;handle, <a class="code" href="group___bluetoothbt__aws__mce__define.html#ga4530b90b6c5ec0dd9ec70db6c748ee0e">BT_AWS_MCE_AGENT_STATE_CONNECTABLE</a>);</div></div><!-- fragment --></li>
</ul>
</li>
<li>4. (Mandatory) Synchronize the sink A2DP, sink Call, or other information (state change, a2dp play time with the Bluetooth clock) as shown in figure titled as "AWS-MCE synchronize the information" in the Bluetooth developer's guide under the [sdk_root]/doc folder.<ul>
<li>Sample code: Call bt_aws_mce_send_information API to share the related data from the Agent to the Partner or the Partner to the Agent. <div class="fragment"><div class="line"> <a class="code" href="structbt__aws__mce__information__t.html">bt_aws_mce_information_t</a> a2dp_infomation;</div><div class="line"> a2dp_infomation.<a class="code" href="structbt__aws__mce__information__t.html#a82e505d969dd7d1906945e1c89036a15">type</a> = <a class="code" href="group___bluetoothbt__aws__mce__define.html#ga60dfa77dd21cd561e27b531d99f1c667">BT_AWS_MCE_INFORMATION_A2DP</a>;</div><div class="line"> a2dp_infomation.<a class="code" href="structbt__aws__mce__information__t.html#a4984cd1ac153dd3a0b24706eb8f9b904">data_length</a> = <span class="keyword">sizeof</span>(a2dp_data);</div><div class="line"> a2dp_infomation.<a class="code" href="structbt__aws__mce__information__t.html#abe222f6d3581e7920dcad5306cc906a8">data</a> = (uint8_t *)&amp;a2dp_data;</div><div class="line"> <a class="code" href="group___bluetooth_a_w_s-_m_c_e.html#gad38d4a9c2e0965469d19534992d756ad">bt_aws_mce_send_information</a>(aws_handle, &amp;a2dp_infomation, <span class="keyword">true</span>);</div><div class="line"><span class="comment">// Plays the music when the time is up.</span></div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3e530011ea1411ed411bb8457fc98ac5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#ga3e530011ea1411ed411bb8457fc98ac5">bt_aws_mce_init_role</a> (<a class="el" href="group___bluetoothbt__aws__mce__define.html#gae29fdfc6c5831d0daacd469ab7024dcd">bt_aws_mce_role_t</a> role)</td></tr>
<tr class="memdesc:ga3e530011ea1411ed411bb8457fc98ac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This funciton initiates the AWS-MCE role when BT successfully powers on.  <a href="#ga3e530011ea1411ed411bb8457fc98ac5">More...</a><br /></td></tr>
<tr class="separator:ga3e530011ea1411ed411bb8457fc98ac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91fa1b58794ff90c7110b3a48e8d97df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#ga91fa1b58794ff90c7110b3a48e8d97df">bt_aws_mce_set_state</a> (uint32_t handle, <a class="el" href="group___bluetoothbt__aws__mce__define.html#gabb9cecd81073cb4dd2e94c4f40323334">bt_aws_mce_agent_state_type_t</a> state)</td></tr>
<tr class="memdesc:ga91fa1b58794ff90c7110b3a48e8d97df"><td class="mdescLeft">&#160;</td><td class="mdescRight">This functon sets the AWS-MCE state.  <a href="#ga91fa1b58794ff90c7110b3a48e8d97df">More...</a><br /></td></tr>
<tr class="separator:ga91fa1b58794ff90c7110b3a48e8d97df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e4b1a385b603c953561f4a77d73039d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#ga5e4b1a385b603c953561f4a77d73039d">bt_aws_mce_connect</a> (uint32_t *handle, const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *address)</td></tr>
<tr class="memdesc:ga5e4b1a385b603c953561f4a77d73039d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function connects to the specified Bluetooth link.  <a href="#ga5e4b1a385b603c953561f4a77d73039d">More...</a><br /></td></tr>
<tr class="separator:ga5e4b1a385b603c953561f4a77d73039d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4240ba22af8469db8e8573cedeb0774d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#ga4240ba22af8469db8e8573cedeb0774d">bt_aws_mce_disconnect</a> (uint32_t handle)</td></tr>
<tr class="memdesc:ga4240ba22af8469db8e8573cedeb0774d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disconnects from the specified Bluetooth link at the Client or Partner.  <a href="#ga4240ba22af8469db8e8573cedeb0774d">More...</a><br /></td></tr>
<tr class="separator:ga4240ba22af8469db8e8573cedeb0774d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad38d4a9c2e0965469d19534992d756ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#gad38d4a9c2e0965469d19534992d756ad">bt_aws_mce_send_information</a> (uint32_t handle, const <a class="el" href="structbt__aws__mce__information__t.html">bt_aws_mce_information_t</a> *information, bool urgent)</td></tr>
<tr class="memdesc:gad38d4a9c2e0965469d19534992d756ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends information data from the Agent to Partner or the Partner to Agent.  <a href="#gad38d4a9c2e0965469d19534992d756ad">More...</a><br /></td></tr>
<tr class="separator:gad38d4a9c2e0965469d19534992d756ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78cceffdf19bb396e59770f570b0d536"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#ga78cceffdf19bb396e59770f570b0d536">bt_aws_mce_prepare_role_handover</a> (uint32_t handle, const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *remote_address)</td></tr>
<tr class="memdesc:ga78cceffdf19bb396e59770f570b0d536"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prepares the role handover by the Agent.  <a href="#ga78cceffdf19bb396e59770f570b0d536">More...</a><br /></td></tr>
<tr class="separator:ga78cceffdf19bb396e59770f570b0d536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab331c04004ca0ae2a54fe3b42f805bb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#gab331c04004ca0ae2a54fe3b42f805bb7">bt_aws_mce_role_handover</a> (uint32_t handle, const uint8_t *data, uint16_t length)</td></tr>
<tr class="memdesc:gab331c04004ca0ae2a54fe3b42f805bb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function performs the role handover by the Agent.  <a href="#gab331c04004ca0ae2a54fe3b42f805bb7">More...</a><br /></td></tr>
<tr class="separator:gab331c04004ca0ae2a54fe3b42f805bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeaaf28c7864133d20d82986d28968f32"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#gaeaaf28c7864133d20d82986d28968f32">bt_aws_mce_get_bd_addr_by_handle</a> (uint32_t handle)</td></tr>
<tr class="memdesc:gaeaaf28c7864133d20d82986d28968f32"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the address of a connected device.  <a href="#gaeaaf28c7864133d20d82986d28968f32">More...</a><br /></td></tr>
<tr class="separator:gaeaaf28c7864133d20d82986d28968f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a3892257bf4687b0e6b65b905927748"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#ga6a3892257bf4687b0e6b65b905927748">bt_aws_mce_set_plus_mode</a> (uint32_t handle, const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *address, <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga03015d47466797d29f07a47d39ea0dcc">bt_aws_mce_plus_mode_t</a> mode)</td></tr>
<tr class="memdesc:ga6a3892257bf4687b0e6b65b905927748"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to set the earbuds plus mode.  <a href="#ga6a3892257bf4687b0e6b65b905927748">More...</a><br /></td></tr>
<tr class="separator:ga6a3892257bf4687b0e6b65b905927748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb2f21aa15a00ff95f9dd6e86775953e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#gaeb2f21aa15a00ff95f9dd6e86775953e">bt_aws_mce_query_handle_by_address</a> (uint32_t module, const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *address)</td></tr>
<tr class="memdesc:gaeb2f21aa15a00ff95f9dd6e86775953e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to query the connection handle for specified BT module.  <a href="#gaeb2f21aa15a00ff95f9dd6e86775953e">More...</a><br /></td></tr>
<tr class="separator:gaeb2f21aa15a00ff95f9dd6e86775953e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd6996b78073e7701885848e858093d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#gabd6996b78073e7701885848e858093d6">bt_aws_mce_cancel_role_handover</a> (uint32_t handle)</td></tr>
<tr class="memdesc:gabd6996b78073e7701885848e858093d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to cancel the role handover procedure by the Agent after the procedure for preparing role handover is successful.  <a href="#gabd6996b78073e7701885848e858093d6">More...</a><br /></td></tr>
<tr class="separator:gabd6996b78073e7701885848e858093d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e388f8496abfa84f2bc38bc0ff158ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#ga1e388f8496abfa84f2bc38bc0ff158ad">bt_aws_mce_set_mode</a> (<a class="el" href="group___bluetoothbt__aws__mce__define.html#gaf8624357e83f05e1544371c8fb91e797">bt_aws_mce_mode_t</a> mode, const void *parameter)</td></tr>
<tr class="memdesc:ga1e388f8496abfa84f2bc38bc0ff158ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to set the earbuds mode.  <a href="#ga1e388f8496abfa84f2bc38bc0ff158ad">More...</a><br /></td></tr>
<tr class="separator:ga1e388f8496abfa84f2bc38bc0ff158ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___bluetoothbt__aws__mce__define"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetoothbt__aws__mce__define.html">Define</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group___bluetoothbt__aws__mce__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___bluetoothbt__aws__mce__struct.html">Struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gabd6996b78073e7701885848e858093d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_cancel_role_handover </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to cancel the role handover procedure by the Agent after the procedure for preparing role handover is successful. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the connection handle for the specified link. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#gacc993ff7cee949d92d30b873e5512f11" title="General busy, please re-try the operation later. ">BT_STATUS_BUSY</a>, the operation failed because BT is busy on another operation. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5e4b1a385b603c953561f4a77d73039d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_connect </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function connects to the specified Bluetooth link. </p>
<p>The <a class="el" href="group___bluetoothbt__aws__mce__define.html#gac773adbfb6f61cbe17d7d32a6fe2db97" title="The event reported to the user. ">BT_AWS_MCE_CONNECTED</a> event is sent to the upper layer with the connected request result. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">handle</td><td>is the connection handle of the specified link. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>is the Bluetooth address of a remote device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4240ba22af8469db8e8573cedeb0774d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_disconnect </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disconnects from the specified Bluetooth link at the Client or Partner. </p>
<p>The <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga4a58b406d1aeff8e0c0d2d5edf2fe38d" title="An attempt to disconnect is initiated by a local or remote device or a link loss occurred with the bt...">BT_AWS_MCE_DISCONNECTED</a> event is sent to the upper layer with the detachment request result. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the connection handle for the specified remote device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. </dd></dl>

</div>
</div>
<a class="anchor" id="gaeaaf28c7864133d20d82986d28968f32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a>* bt_aws_mce_get_bd_addr_by_handle </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the address of a connected device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the AWS_MCE handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the address, if the operation completed successfully. NULL, if it failed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3e530011ea1411ed411bb8457fc98ac5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bt_aws_mce_init_role </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___bluetoothbt__aws__mce__define.html#gae29fdfc6c5831d0daacd469ab7024dcd">bt_aws_mce_role_t</a>&#160;</td>
          <td class="paramname"><em>role</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This funciton initiates the AWS-MCE role when BT successfully powers on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">role</td><td>is the AWS-MCE role. The role is set as BT_AWS_MCE_ROLE_NONE if the role is not corrected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

</div>
</div>
<a class="anchor" id="ga78cceffdf19bb396e59770f570b0d536"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_prepare_role_handover </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *&#160;</td>
          <td class="paramname"><em>remote_address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function prepares the role handover by the Agent. </p>
<p>The <a class="el" href="group___bluetoothbt__aws__mce__define.html#gab0ac6ccf9a4eaeb5cecf3205e28437fc" title="The result of preparing the role handover by the Agent, with the bt_aws_mce_prepare_role_handover_cnf...">BT_AWS_MCE_PREPARE_ROLE_HANDOVER_CNF</a> event is received at the Agent. Note: This procedure will be failure under the conditions below: 1). The conneciton is in sniff mode. 2). BLE avdertising is enabled. 3). Partner is lost, not attached or closed to lost. 4). Phone is Slave role. 5). Phone dose not support power control feature. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the connection handle for the specified link. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote_address</td><td>is the Bluetooth address of a remote device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#gacc993ff7cee949d92d30b873e5512f11" title="General busy, please re-try the operation later. ">BT_STATUS_BUSY</a>, the operation failed because BT is busy on another operation. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. <a class="el" href="group___bluetoothbt__aws__mce__define.html#gaf0bf1001e1e2efa4fd44cd2b6f1d5e0f" title="Define for role handover error code. ">BT_AWS_MCE_RHO_ERROR_BLE_ADVERTISING</a>, the BLE advertiser is on goiong. <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga3d7958c16c7a1b1ea973457804dfaea9" title="AWS_MCE role handover is failure because the ACL link is in sniff mode. ">BT_AWS_MCE_RHO_ERROR_SNIFF_MODE</a>, the ACL link is in sniff mode. <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga0347f28b501d379d6d0acde724260a3f" title="AWS_MCE role handover is failure because the Partner is lost or not attached. ">BT_AWS_MCE_RHO_ERROR_NO_PARTNER</a>, the Partner is lost or not attached. <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga6812633102d70cce6913b24245c1c917" title="AWS_MCE role handover is failure because the Partner was communicated with Agent and might be closed ...">BT_AWS_MCE_RHO_ERROR_CLOSE_TO_LOST_PARTNER</a>, the Partner was communicated with Agent and might be closed to lost. </dd></dl>

</div>
</div>
<a class="anchor" id="gaeb2f21aa15a00ff95f9dd6e86775953e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t bt_aws_mce_query_handle_by_address </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to query the connection handle for specified BT module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">module</td><td>is the module for the specified Bluetooth profile. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>is the Bluetooth address of a remote device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the connection handle for the module. 0 is returned if the profile is not connected. </dd></dl>

</div>
</div>
<a class="anchor" id="gab331c04004ca0ae2a54fe3b42f805bb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_role_handover </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function performs the role handover by the Agent. </p>
<p>The <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga142d7c974a705f1ed333470c5b98aeda" title="The result of a role handover by the Agent, with the bt_aws_mce_role_handover_cnf_t payload...">BT_AWS_MCE_ROLE_HANDOVER_CNF</a> event id received at the Agent. And the <a class="el" href="group___bluetoothbt__aws__mce__define.html#gae91950aff4a6d9a174fc83a9d63227c1" title="A role handover notification by the Agent is received with the bt_aws_mce_role_handover_ind_t payload...">BT_AWS_MCE_ROLE_HANDOVER_IND</a> event is received at the Partner if the result of the role handover is successful. Note: 1. This procedure should be performed after the procedure <a class="el" href="group___bluetooth_a_w_s-_m_c_e.html#ga78cceffdf19bb396e59770f570b0d536" title="This function prepares the role handover by the Agent. ">bt_aws_mce_prepare_role_handover</a> is successful.</p><ol type="1">
<li>The data length must be less than 100B. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the connection handle for the specified link. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>is the application data which is requested to initiate the remote end. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>is the data length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#gacc993ff7cee949d92d30b873e5512f11" title="General busy, please re-try the operation later. ">BT_STATUS_BUSY</a>, the operation failed because BT is busy on another operation. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga516d81fac05d61710fb1e839fa68bf05" title="AWS_MCE role handover is failure because the Smart Phone dose not support features which will allow r...">BT_AWS_MCE_RHO_ERROR_UNSUPPORTED_REMOTE_FEATURE</a>, the BLE advertiser is on goiong. </dd></dl>
</li>
</ol>

</div>
</div>
<a class="anchor" id="gad38d4a9c2e0965469d19534992d756ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_send_information </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbt__aws__mce__information__t.html">bt_aws_mce_information_t</a> *&#160;</td>
          <td class="paramname"><em>information</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>urgent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sends information data from the Agent to Partner or the Partner to Agent. </p>
<p>The <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga7c05a7b7ae55531e0a33cc5723ab6823" title="A sink or application status update notification is received from an AWS-MCE remote device with the b...">BT_AWS_MCE_INFOMATION_PACKET_IND</a> event is received at the remote end. Note: The length for the information packet must be less than 200B. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the connection handle for the specified link. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">information</td><td>defines the updated information from the upper layer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">urgent</td><td>defines if the information packet should be sent out instantly. To ensure the audio quality, the urgent is set true only for A2DP and Call information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1e388f8496abfa84f2bc38bc0ff158ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_set_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___bluetoothbt__aws__mce__define.html#gaf8624357e83f05e1544371c8fb91e797">bt_aws_mce_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>parameter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to set the earbuds mode. </p>
<p>The <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga5c1fbd3193d9493c508dd2845011ef4d" title="The result of setting the plus mode with the bt_aws_mce_set_mode_cnf_t payload. ">BT_AWS_MCE_MODE_CHANGED</a> event id received. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>is the mode which would to be set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parameter</td><td>is the user data corresponding to the mode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the original mode is the same as the one set. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6a3892257bf4687b0e6b65b905927748"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_set_plus_mode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___bluetoothbt__primary__type__define.html#gaf4054e1ff6f411ab8da99307809c4fde">bt_bd_addr_t</a> *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___bluetoothbt__aws__mce__define.html#ga03015d47466797d29f07a47d39ea0dcc">bt_aws_mce_plus_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to set the earbuds plus mode. </p>
<p>The <a class="el" href="group___bluetoothbt__aws__mce__define.html#ga94c534cc51adc76d8590d473f0b4befb" title="The result of setting the plus mode with the bt_aws_mce_set_plus_mode_cnf_t payload. ">BT_AWS_MCE_SET_EARBUDS_PLUS_MODE_CNF</a> event id received at the Agent. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the connection handle for the specified link. It would be NULL at the Follower side. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>is the Bluetooth address of a remote device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>is the plus mode which would to be set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the original mode is the same as the one set. </dd></dl>

</div>
</div>
<a class="anchor" id="ga91fa1b58794ff90c7110b3a48e8d97df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___bluetoothbt__primary__type__define.html#ga6bf23e2845d8aec21a15506e256eff4e">bt_status_t</a> bt_aws_mce_set_state </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___bluetoothbt__aws__mce__define.html#gabb9cecd81073cb4dd2e94c4f40323334">bt_aws_mce_agent_state_type_t</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This functon sets the AWS-MCE state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>is the AWS-MCE handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>is the new state to which the Agent wants to change. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group___bluetoothbt__primary__type__define.html#ga9c725acc53b8d3af38f33020b2f988f6" title="Bluetooth status definitions. ">BT_STATUS_SUCCESS</a>, the operation completed successfully. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga4b29d487f990d3bb016f1f2a1a027f40" title="General failed. ">BT_STATUS_FAIL</a>, the operation failed. <a class="el" href="group___bluetoothbt__primary__type__define.html#ga08b0a13b4015d06f3f061efac3d51696" title="General Out-of-memory. ">BT_STATUS_OUT_OF_MEMORY</a>, the operation failed because there is not enough memory. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 28 2023 17:13:32 for AB158x Series MCU API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>

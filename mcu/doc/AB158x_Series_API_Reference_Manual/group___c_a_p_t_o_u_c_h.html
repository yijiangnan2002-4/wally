<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AB158x Series MCU API Reference: CAPTOUCH</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="airoha.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AB158x Series MCU API Reference
   &#160;<span id="projectnumber">Airoha IoT SDK for BT Audio</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___c_a_p_t_o_u_c_h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">CAPTOUCH<div class="ingroups"><a class="el" href="group___h_a_l.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This section introduces the captouch driver APIs including terms and acronyms, supported features, software architecture, details on how to use this driver, enums, structures and functions.  
<a href="#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>This section introduces the captouch driver APIs including terms and acronyms, supported features, software architecture, details on how to use this driver, enums, structures and functions. </p>
<h1><a class="anchor" id="HAL_CAPTOUCH_Terms_Chapter"></a>
Terms and acronyms</h1>
<table class="doxtable">
<tr>
<th>Terms </th><th>Details  </th></tr>
<tr>
<td><b>GPIO</b> </td><td>For an introduction to General Purpose Inputs-Outputs, please refer to the <a class="el" href="group___g_p_i_o.html">GPIO</a> module in HAL. </td></tr>
<tr>
<td><b>NVIC</b> </td><td>The Nested Vectored Interrupt Controller (NVIC) is the interrupt controller of ARM Cortex-M. For more details, please refer to <a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.100166_0001_00_en/ric1417175922867.html">NVIC introduction in ARM Cortex-M4 Processor Technical Reference Manual </a>. </td></tr>
<tr>
<td><b>Captouch</b> </td><td>Capacitive touch controler is used for human interfacing. When a human finger touches the sensing part, usually a part of system HW, it forms a capacitance where one plate is the conductive layer and the other being the human finger. </td></tr>
<tr>
<td><b>EPT</b> </td><td>Easy Pinmux Tool is to configure the GPIO source table. </td></tr>
</table>
<h1><a class="anchor" id="HAL_CAPTOUCH_Features_Chapter"></a>
Supported features</h1>
<p>This module provides a generic design to get external touch events. The captouch provides two ways to use, the normal usage as below, by the detail description of automatic calibration usage.</p>
<ul>
<li><b>Normal</b> <b>usage</b>.<br />
 In this usage, an interrupt is triggered whenever a pad is pressed or released. A callback function can be registered for the interrupt. The callback function is invoked whenever a pad is pressed or released. <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga723b0c4395bfe4c5fb219151f70c6911" title="This function gets the key event data. ">hal_captouch_get_event()</a> can be used in the callback function to get the key event and the key position number. <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga91acb80814dbf941f221fd8b2d743da7" title="This function translates the key data position value to key symbol name. ">hal_captouch_translate_channel_to_symbol()</a> can be used to translate the key position number to the EPT key definition symbol name.<br />
</li>
<li><b>tunning</b> <b>usange</b>.<br />
 In this usage, the user can tune the coarse cap by <a class="el" href="group___c_a_p_t_o_u_c_h.html#gabc864937061b5ad680d8bd44e29271b7" title="This function tunes the calibration value by channel. ">hal_captouch_tune_control()</a>.<br />
 </li>
</ul>
<h1><a class="anchor" id="HAL_CAPTOUCH_Driver_Usage_Chapter"></a>
How to use this driver</h1>
<ul>
<li><b>Using</b> <b>the</b> <b>normal</b>.<br />
 To use the catpouch driver in normal mode, please refer to <a class="el" href="group___g_p_i_o.html">GPIO</a> datasheet to determine which GPIOs should be selected to pinmux to captouch pins. Note that the channel0 is controled by <a class="el" href="group___r_t_c.html">RTC</a>, and if you use the EPT tool to configure the captouch pin settings, there is no need to configure the captouch GPIO pinmux anymore. Then call <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78" title="This function initializes the captouch module. ">hal_captouch_init()</a> to manually set the channel bit map, register the callback function, the default coarse cap and the threshold value. After calling <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78" title="This function initializes the captouch module. ">hal_captouch_init()</a>, the driver can work. If a key is pressed or released on the pad, the pad triggers an interrupt to call the callback function. The user should use <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga723b0c4395bfe4c5fb219151f70c6911" title="This function gets the key event data. ">hal_captouch_get_event()</a> in the callback function to get the key event and the key position number. To ensure a reliable key scan, do not overload the callback function. Let the callback return as quickly as possible.<ul>
<li>Step1. Call <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78" title="This function initializes the captouch module. ">hal_captouch_init()</a> to initialize the captouch module.</li>
<li>Step2. Call <a class="el" href="group___c_a_p_t_o_u_c_h.html#gad04ba1b0e38ccb995e5fd7d9968cc52b" title="This function deinitializes the captouch module. ">hal_captouch_deinit()</a> to de-initialize the captouch module if it is no longer in use.</li>
<li>Sample code: <div class="fragment"><div class="line"><a class="code" href="structhal__captouch__config__t.html">hal_captouch_config_t</a> config;</div><div class="line"><a class="code" href="structhal__captouch__tune__data__t.html">hal_captouch_tune_data_t</a> tune_data;</div><div class="line">uint32_t i;</div><div class="line"></div><div class="line">config.<a class="code" href="structhal__captouch__config__t.html#ac091a48ee0d9dfcc991ded1c234dd060">callback</a>.callbck  = user_captouch_callback;           <span class="comment">// Register callback</span></div><div class="line">config.<a class="code" href="structhal__captouch__config__t.html#ac091a48ee0d9dfcc991ded1c234dd060">callback</a>.userdata = NULL;                             <span class="comment">// User&#39;s callback parameter pointer</span></div><div class="line">config.<a class="code" href="structhal__captouch__config__t.html#aadf4dd0dac9211b55c7d14917e990179">channel_bit_map</a>   = 0xff;                             <span class="comment">// Sets the channel0~7 enable</span></div><div class="line"><span class="keywordflow">for</span>(i=0;i&lt;8;i++) {</div><div class="line">    config.<a class="code" href="structhal__captouch__config__t.html#a32fb73cdcb0c1879fa443a83b798c8e0">high_thr</a>[i] = 210;                                <span class="comment">// Sets the high threshold value</span></div><div class="line">    config.<a class="code" href="structhal__captouch__config__t.html#a174642263ba1b366e1e8f22de5fe6e05">low_thr</a>[i]  = 100;                                <span class="comment">// Sets the low threshold value</span></div><div class="line">    config.<a class="code" href="structhal__captouch__config__t.html#afc4b996de08e641f4686ea0c747c7635">coarse_cap</a>[i] = 2;                                <span class="comment">// Sets the coarse cap value</span></div><div class="line">}</div><div class="line"><a class="code" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78">hal_captouch_init</a>(&amp;config);</div><div class="line"></div><div class="line">...</div><div class="line">hal_captouch_deinit();                                       <span class="comment">// De-initialize the captouch module if it is no longer in use.</span></div></div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// Callback function. This function should be registered with #hal_captouch_init().</span></div><div class="line"><span class="keywordtype">void</span> user_captouch_callback (<span class="keywordtype">void</span> *user_data)</div><div class="line">{</div><div class="line">   <span class="comment">// Get the key press or release event.</span></div><div class="line">   <a class="code" href="structhal__captouch__event__t.html">hal_captouch_event_t</a> key_event;</div><div class="line">   uint32_t key_symbol;</div><div class="line">   <a class="code" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> ret;</div><div class="line"></div><div class="line">   <span class="keywordflow">while</span>(1) {</div><div class="line">       ret = <a class="code" href="group___c_a_p_t_o_u_c_h.html#ga723b0c4395bfe4c5fb219151f70c6911">hal_captouch_get_event</a>(&amp;key_event);</div><div class="line">       <span class="keywordflow">if</span> (ret == <a class="code" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebac31cab09c441002b829e105487c88bee">HAL_CAPTOUCH_STATUS_NO_EVENT</a>) {</div><div class="line">           <span class="keywordflow">break</span>;</div><div class="line">       }</div><div class="line">       <span class="comment">// Translate the key position to EPT symbol name for application if necessary.</span></div><div class="line">       <a class="code" href="group___c_a_p_t_o_u_c_h.html#ga91acb80814dbf941f221fd8b2d743da7">hal_captouch_translate_channel_to_symbol</a>(key_event.<a class="code" href="structhal__captouch__event__t.html#a5cf38048933f82f1d280170cd65779e9">key_data</a>,&amp;key_symbol);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
</ul>
</li>
<li><b>Using</b> <b>the</b> <b>tunning</b> <b>usage</b>.<br />
 Then tunning usage is to find the proper coarse cap value by channel.<ul>
<li>Step1. Call <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78" title="This function initializes the captouch module. ">hal_captouch_init()</a> to initialize the captouch module. Step2. Call <a class="el" href="group___c_a_p_t_o_u_c_h.html#gabc864937061b5ad680d8bd44e29271b7" title="This function tunes the calibration value by channel. ">hal_captouch_tune_control()</a> to find the proper coarse cap value.</li>
<li>Step3. Call <a class="el" href="group___c_a_p_t_o_u_c_h.html#gad04ba1b0e38ccb995e5fd7d9968cc52b" title="This function deinitializes the captouch module. ">hal_captouch_deinit()</a> to de-initialize the captouch module if it is no longer in use.</li>
<li>Sample code: <div class="fragment"><div class="line"><a class="code" href="structhal__captouch__config__t.html">hal_captouch_config_t</a> config;</div><div class="line"><a class="code" href="structhal__captouch__tune__data__t.html">hal_captouch_tune_data_t</a> tune_data;</div><div class="line">uint32_t i;</div><div class="line"></div><div class="line">config.<a class="code" href="structhal__captouch__config__t.html#ac091a48ee0d9dfcc991ded1c234dd060">callback</a>.callbck  = user_captouch_callback;           <span class="comment">// Register callback</span></div><div class="line">config.<a class="code" href="structhal__captouch__config__t.html#ac091a48ee0d9dfcc991ded1c234dd060">callback</a>.userdata = NULL;                             <span class="comment">// User&#39;s callback parameter pointer</span></div><div class="line">config.<a class="code" href="structhal__captouch__config__t.html#aadf4dd0dac9211b55c7d14917e990179">channel_bit_map</a>   = 0xff;                             <span class="comment">// Sets the channel0~7 enable</span></div><div class="line"><span class="keywordflow">for</span>(i=0;i&lt;8;i++) {</div><div class="line">    config.<a class="code" href="structhal__captouch__config__t.html#a32fb73cdcb0c1879fa443a83b798c8e0">high_thr</a>[i] = 210;                                <span class="comment">// Sets the high threshold value</span></div><div class="line">    config.<a class="code" href="structhal__captouch__config__t.html#a174642263ba1b366e1e8f22de5fe6e05">low_thr</a>[i]  = 100;                                <span class="comment">// Sets the low threshold value</span></div><div class="line">    config.<a class="code" href="structhal__captouch__config__t.html#afc4b996de08e641f4686ea0c747c7635">coarse_cap</a>[i] = 2;                                <span class="comment">// Sets the coarse cap value</span></div><div class="line">}</div><div class="line"><a class="code" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78">hal_captouch_init</a>(&amp;config);</div><div class="line"></div><div class="line"><span class="keywordflow">for</span>(i=0;i&lt;8;i++) {</div><div class="line">    <span class="comment">// The tune_data can be stored in memory, and filled by #hal_captouch_init().</span></div><div class="line">    <a class="code" href="group___c_a_p_t_o_u_c_h.html#gabc864937061b5ad680d8bd44e29271b7">hal_captouch_tune_control</a>(i,<a class="code" href="group__hal__captouch__struct.html#gga674259b239a53a7471cb84fbc1bc585fab08b0517b5b7cfde158ba3bd8725de35">HAL_CAPTOUCH_TUNE_HW_AUTO</a>,&amp;tune_data);  <span class="comment">// If tuning the 8 channels.</span></div><div class="line">}</div><div class="line">...</div><div class="line">hal_captouch_deinit();                                       <span class="comment">// De-initialize the captouch module if it is no longer in use.</span></div></div><!-- fragment --> </li>
</ul>
</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4327ce6536b69785c31bbe415cab5a78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78">hal_captouch_init</a> (<a class="el" href="structhal__captouch__config__t.html">hal_captouch_config_t</a> *config)</td></tr>
<tr class="memdesc:ga4327ce6536b69785c31bbe415cab5a78"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the captouch module.  <a href="#ga4327ce6536b69785c31bbe415cab5a78">More...</a><br /></td></tr>
<tr class="separator:ga4327ce6536b69785c31bbe415cab5a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad04ba1b0e38ccb995e5fd7d9968cc52b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#gad04ba1b0e38ccb995e5fd7d9968cc52b">hal_captouch_deinit</a> (void)</td></tr>
<tr class="memdesc:gad04ba1b0e38ccb995e5fd7d9968cc52b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function deinitializes the captouch module.  <a href="#gad04ba1b0e38ccb995e5fd7d9968cc52b">More...</a><br /></td></tr>
<tr class="separator:gad04ba1b0e38ccb995e5fd7d9968cc52b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52c39dafebf6da2b8448756cb2eaabac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga52c39dafebf6da2b8448756cb2eaabac">hal_captouch_channel_enable</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel)</td></tr>
<tr class="memdesc:ga52c39dafebf6da2b8448756cb2eaabac"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables the channel.  <a href="#ga52c39dafebf6da2b8448756cb2eaabac">More...</a><br /></td></tr>
<tr class="separator:ga52c39dafebf6da2b8448756cb2eaabac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacdba4d57f372cfa48f19640aa1d41640"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#gacdba4d57f372cfa48f19640aa1d41640">hal_captouch_channel_disable</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel)</td></tr>
<tr class="memdesc:gacdba4d57f372cfa48f19640aa1d41640"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables the channel.  <a href="#gacdba4d57f372cfa48f19640aa1d41640">More...</a><br /></td></tr>
<tr class="separator:gacdba4d57f372cfa48f19640aa1d41640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga723b0c4395bfe4c5fb219151f70c6911"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga723b0c4395bfe4c5fb219151f70c6911">hal_captouch_get_event</a> (<a class="el" href="structhal__captouch__event__t.html">hal_captouch_event_t</a> *event)</td></tr>
<tr class="memdesc:ga723b0c4395bfe4c5fb219151f70c6911"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function gets the key event data.  <a href="#ga723b0c4395bfe4c5fb219151f70c6911">More...</a><br /></td></tr>
<tr class="separator:ga723b0c4395bfe4c5fb219151f70c6911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91acb80814dbf941f221fd8b2d743da7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga91acb80814dbf941f221fd8b2d743da7">hal_captouch_translate_channel_to_symbol</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel, uint8_t *symbol)</td></tr>
<tr class="memdesc:ga91acb80814dbf941f221fd8b2d743da7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function translates the key data position value to key symbol name.  <a href="#ga91acb80814dbf941f221fd8b2d743da7">More...</a><br /></td></tr>
<tr class="separator:ga91acb80814dbf941f221fd8b2d743da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa181a6c0584c7d36656cbedd47611e61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#gaa181a6c0584c7d36656cbedd47611e61">hal_captouch_lowpower_control</a> (<a class="el" href="group__hal__captouch__struct.html#ga7c1f82250adcddd6d7dc9da391fc02f6">hal_captouch_lowpower_type_t</a> lowpower_type)</td></tr>
<tr class="memdesc:gaa181a6c0584c7d36656cbedd47611e61"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function controls when the captouch goes into normal or low-power mode.  <a href="#gaa181a6c0584c7d36656cbedd47611e61">More...</a><br /></td></tr>
<tr class="separator:gaa181a6c0584c7d36656cbedd47611e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5d3b4400eaa411c30382749df1f94e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#gaa5d3b4400eaa411c30382749df1f94e2">hal_captouch_set_threshold</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel, int32_t high_thr, int32_t low_thr)</td></tr>
<tr class="memdesc:gaa5d3b4400eaa411c30382749df1f94e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function changes the high threshold and the low threshold by channel.  <a href="#gaa5d3b4400eaa411c30382749df1f94e2">More...</a><br /></td></tr>
<tr class="separator:gaa5d3b4400eaa411c30382749df1f94e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6386e5b645cceb967117592506814192"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga6386e5b645cceb967117592506814192">hal_captouch_set_Nthreshold</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel, int32_t high_thr, int32_t low_thr)</td></tr>
<tr class="memdesc:ga6386e5b645cceb967117592506814192"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function changes the high noise-threshold and the low noise-threshold by channel.  <a href="#ga6386e5b645cceb967117592506814192">More...</a><br /></td></tr>
<tr class="separator:ga6386e5b645cceb967117592506814192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88bd8beaea67ab08b76ed0ac386119ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga88bd8beaea67ab08b76ed0ac386119ef">hal_captouch_set_fine_cap</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel, int32_t fine)</td></tr>
<tr class="memdesc:ga88bd8beaea67ab08b76ed0ac386119ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function changes the fine cap value.  <a href="#ga88bd8beaea67ab08b76ed0ac386119ef">More...</a><br /></td></tr>
<tr class="separator:ga88bd8beaea67ab08b76ed0ac386119ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade42f0538b2c24b393a220a7b8c19bef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#gade42f0538b2c24b393a220a7b8c19bef">hal_captouch_set_coarse_cap</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel, uint32_t coarse)</td></tr>
<tr class="memdesc:gade42f0538b2c24b393a220a7b8c19bef"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function change the coarese cap value.  <a href="#gade42f0538b2c24b393a220a7b8c19bef">More...</a><br /></td></tr>
<tr class="separator:gade42f0538b2c24b393a220a7b8c19bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga912cf7b1f7d3ca7186e20fc1b38fb0bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga912cf7b1f7d3ca7186e20fc1b38fb0bd">hal_captouch_set_avg</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel, uint8_t mavg_val, uint8_t avg_val)</td></tr>
<tr class="memdesc:ga912cf7b1f7d3ca7186e20fc1b38fb0bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function change the moving average and adc average.  <a href="#ga912cf7b1f7d3ca7186e20fc1b38fb0bd">More...</a><br /></td></tr>
<tr class="separator:ga912cf7b1f7d3ca7186e20fc1b38fb0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabc864937061b5ad680d8bd44e29271b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#gabc864937061b5ad680d8bd44e29271b7">hal_captouch_tune_control</a> (<a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a> channel, <a class="el" href="group__hal__captouch__struct.html#ga674259b239a53a7471cb84fbc1bc585f">hal_captouch_tune_type_t</a> tune_type, <a class="el" href="structhal__captouch__tune__data__t.html">hal_captouch_tune_data_t</a> *data)</td></tr>
<tr class="memdesc:gabc864937061b5ad680d8bd44e29271b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function tunes the calibration value by channel.  <a href="#gabc864937061b5ad680d8bd44e29271b7">More...</a><br /></td></tr>
<tr class="separator:gabc864937061b5ad680d8bd44e29271b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a61a6bb69e5471e6680c7f1e72caab3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga2a61a6bb69e5471e6680c7f1e72caab3">hal_captouch_coarse_cap_tune</a> (<a class="el" href="structhal__captouch__coarse__cal__t.html">hal_captouch_coarse_cal_t</a> *coarse_cal_result)</td></tr>
<tr class="memdesc:ga2a61a6bb69e5471e6680c7f1e72caab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function tunes the coarse cap value for all channels.  <a href="#ga2a61a6bb69e5471e6680c7f1e72caab3">More...</a><br /></td></tr>
<tr class="separator:ga2a61a6bb69e5471e6680c7f1e72caab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__hal__keypad__enum"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__keypad__enum.html">Enum</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__captouch__struct"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__captouch__struct.html">Struct</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__hal__captouch__typedef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hal__captouch__typedef.html">Typedef</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gacdba4d57f372cfa48f19640aa1d41640"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_channel_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables the channel. </p>
<p>It will disable the sensing, the channel interrupt, and the channel wakeup interrupt. This API and the <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga52c39dafebf6da2b8448756cb2eaabac" title="This function enables the channel. ">hal_captouch_channel_enable()</a> are the independ, it must be called after <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78" title="This function initializes the captouch module. ">hal_captouch_init()</a> if necessary. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga52c39dafebf6da2b8448756cb2eaabac" title="This function enables the channel. ">hal_captouch_channel_enable()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga52c39dafebf6da2b8448756cb2eaabac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_channel_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables the channel. </p>
<p>It will enable the sensing of the channel interrupt, and the channel wakeup interrupt. This API and the <a class="el" href="group___c_a_p_t_o_u_c_h.html#gacdba4d57f372cfa48f19640aa1d41640" title="This function disables the channel. ">hal_captouch_channel_disable()</a> are codependent. It must be called after <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78" title="This function initializes the captouch module. ">hal_captouch_init()</a> if necessary. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___c_a_p_t_o_u_c_h.html#gacdba4d57f372cfa48f19640aa1d41640" title="This function disables the channel. ">hal_captouch_channel_disable()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga2a61a6bb69e5471e6680c7f1e72caab3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_coarse_cap_tune </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhal__captouch__coarse__cal__t.html">hal_captouch_coarse_cal_t</a> *&#160;</td>
          <td class="paramname"><em>coarse_cal_result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function tunes the coarse cap value for all channels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">coarse_cal_result</td><td>is for the tuning result and coarse cap value <a class="el" href="structhal__captouch__coarse__cal__t.html" title="This structure defines coarse cap command tune result. ">hal_captouch_coarse_cal_t</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">coarse_cal_result</td><td>is for the tuning result and coarse cap value <a class="el" href="structhal__captouch__coarse__cal__t.html" title="This structure defines coarse cap command tune result. ">hal_captouch_coarse_cal_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="gad04ba1b0e38ccb995e5fd7d9968cc52b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function deinitializes the captouch module. </p>
<p>Call this function if the captouch is no longer in use. </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if operation is successful.<br />
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78" title="This function initializes the captouch module. ">hal_captouch_init()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga723b0c4395bfe4c5fb219151f70c6911"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_get_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhal__captouch__event__t.html">hal_captouch_event_t</a> *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function gets the key event data. </p>
<p>This key data is the channel position number. You can call <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga91acb80814dbf941f221fd8b2d743da7" title="This function translates the key data position value to key symbol name. ">hal_captouch_translate_channel_to_symbol()</a> to translate the key symbol name for application. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">event</td><td>is the pointer to key event data. For more details, please refer to <a class="el" href="structhal__captouch__event__t.html" title="This structure defines key event data. ">hal_captouch_event_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga91acb80814dbf941f221fd8b2d743da7" title="This function translates the key data position value to key symbol name. ">hal_captouch_translate_channel_to_symbol()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga4327ce6536b69785c31bbe415cab5a78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhal__captouch__config__t.html">hal_captouch_config_t</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the captouch module. </p>
<p>Call this function if the captouch is required. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is the pointer to configuration. For more details, please refer to <a class="el" href="structhal__captouch__config__t.html" title="This structure defines configuration parameter. ">hal_captouch_config_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if operation is successful.<br />
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___c_a_p_t_o_u_c_h.html#gad04ba1b0e38ccb995e5fd7d9968cc52b" title="This function deinitializes the captouch module. ">hal_captouch_deinit()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gaa181a6c0584c7d36656cbedd47611e61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_lowpower_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga7c1f82250adcddd6d7dc9da391fc02f6">hal_captouch_lowpower_type_t</a>&#160;</td>
          <td class="paramname"><em>lowpower_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function controls when the captouch goes into normal or low-power mode. </p>
<p>It can be used after <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga4327ce6536b69785c31bbe415cab5a78" title="This function initializes the captouch module. ">hal_captouch_init()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lowpower_type</td><td>is the type value. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga7c1f82250adcddd6d7dc9da391fc02f6" title="This structure defines power mode type. ">hal_captouch_lowpower_type_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga912cf7b1f7d3ca7186e20fc1b38fb0bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_set_avg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mavg_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>avg_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function change the moving average and adc average. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mavg_val</td><td>is the number of samples to be averaged when calibrating channel. The range of the value should be 0&lt;=mavg_val&lt;=15. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">avg_val</td><td>is the weight of new sample when computing adc output average. The range of the value should be 0&lt;=avg_val&lt;=7. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="gade42f0538b2c24b393a220a7b8c19bef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_set_coarse_cap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>coarse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function change the coarese cap value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">coarse</td><td>is the corase cap value. If in the same fine cap value, the coarse cap value is bigger, the average and the vadc will be smaller. The range of the value should be 0&lt;=coarse&lt;=7. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga88bd8beaea67ab08b76ed0ac386119ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_set_fine_cap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>fine</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function changes the fine cap value. </p>
<p>This API can be used only in manual mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fine</td><td>is the fine cap value. If in the same coarse cap value, the fine cap value is bigger, the average and the vadc will be smaller. The range of the value should be -64&lt;=fine&lt;=63. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga6386e5b645cceb967117592506814192"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_set_Nthreshold </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>high_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>low_thr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function changes the high noise-threshold and the low noise-threshold by channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">high_thr</td><td>is the high threshold value. When the average adc value is greater than this value, it will trigger the press event. The range of the value should be -256&lt;=high_thr&lt;=255. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">low_thr</td><td>is the low threshold value. When the average adc value is less than this value, it will trigger the release event. The range of the value should be -256&lt;=high_thr&lt;=255. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="gaa5d3b4400eaa411c30382749df1f94e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_set_threshold </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>high_thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>low_thr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function changes the high threshold and the low threshold by channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">high_thr</td><td>is the high threshold value. When the average adc value is greater than this value, it will trigger the press event. The range of the value should be -256&lt;=high_thr&lt;=255. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">low_thr</td><td>is the low threshold value. When the average adc value is less than this value, it will trigger the release event. The range of the value should be -256&lt;=high_thr&lt;=255. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>

</div>
</div>
<a class="anchor" id="ga91acb80814dbf941f221fd8b2d743da7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_translate_channel_to_symbol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>symbol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function translates the key data position value to key symbol name. </p>
<p>The key symbol name is defined by the EPT tool. It can be use for the application to recognize the meaning of the key. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">symbol</td><td>is the pointer to the symbol name data. please refer to the file in hal_keypad_table.h. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___c_a_p_t_o_u_c_h.html#ga723b0c4395bfe4c5fb219151f70c6911" title="This function gets the key event data. ">hal_captouch_get_event()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gabc864937061b5ad680d8bd44e29271b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hal__keypad__enum.html#ga71d3694f8d30cc39b284eef3d4d94beb">hal_captouch_status_t</a> hal_captouch_tune_control </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae">hal_captouch_channel_t</a>&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__hal__captouch__struct.html#ga674259b239a53a7471cb84fbc1bc585f">hal_captouch_tune_type_t</a>&#160;</td>
          <td class="paramname"><em>tune_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhal__captouch__tune__data__t.html">hal_captouch_tune_data_t</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function tunes the calibration value by channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channel</td><td>is the channel number. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga3ccdefa59c92f8e6e89ef95ff93d20ae" title="This structure defines channel. ">hal_captouch_channel_t</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tune_type</td><td>is the tune type mode. For more details, please refer to <a class="el" href="group__hal__captouch__struct.html#ga674259b239a53a7471cb84fbc1bc585f" title="This structure defines tune type. ">hal_captouch_tune_type_t</a>. when use the <a class="el" href="group__hal__captouch__struct.html#gga674259b239a53a7471cb84fbc1bc585fae0196937218c11ac0f28c0829e47b219" title="Specify the manual tune mode. ">HAL_CAPTOUCH_TUNE_MAN</a>, please make sure that you have called the <a class="el" href="group___c_a_p_t_o_u_c_h.html#ga88bd8beaea67ab08b76ed0ac386119ef" title="This function changes the fine cap value. ">hal_captouch_set_fine_cap()</a> to set fine cap. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>is the pointer tune result. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__hal__keypad__enum.html#gga71d3694f8d30cc39b284eef3d4d94bebae7fb42fdea2daf3bb4033ef6d925689d" title="No error occurred during the function call. ">HAL_CAPTOUCH_STATUS_OK</a>, if the operation is successful.<br />
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Dec 29 2023 02:13:06 for AB158x Series MCU API Reference by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
